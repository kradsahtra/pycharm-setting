<application>
  <component name="VimSettings">
    <state version="4" enabled="true" />
    <globalmarks />
    <filemarks>
      <file name="$USER_HOME$/workspace/loki-bigbang/bigbang/admin/report/daily.py" timestamp="1520907732303" />
      <file name="$USER_HOME$/workspace/FinanceService/finservice/common/mch/handler.py" timestamp="1519782627404">
        <mark key="[" line="56" column="0" />
        <mark key="]" line="55" column="66" />
        <mark key="." line="55" column="66" />
        <mark key="^" line="55" column="66" />
      </file>
      <file name="/a.dummy" timestamp="1520502724713">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="5" />
        <mark key="^" line="0" column="5" />
        <mark key="." line="0" column="5" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/pay.nginx.conf" timestamp="1516013693360">
        <mark key="[" line="6" column="16" />
        <mark key="]" line="6" column="27" />
        <mark key="." line="6" column="27" />
        <mark key="^" line="6" column="27" />
      </file>
      <file name="$USER_HOME$/workspace/FinanceService/finservice/common/timer/processor.py" timestamp="1519786940010">
        <mark key="[" line="99" column="18" />
        <mark key="]" line="99" column="21" />
        <mark key="^" line="99" column="21" />
        <mark key="." line="99" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/cpstats/cpsservice/service/settings_prod.py" timestamp="1516652920996">
        <mark key="[" line="12" column="19" />
        <mark key="]" line="12" column="22" />
        <mark key="." line="12" column="22" />
        <mark key="^" line="12" column="22" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/ff_pk10/logic/order.py" timestamp="1516959157360">
        <mark key="[" line="5" column="29" />
        <mark key="]" line="5" column="30" />
        <mark key="." line="5" column="30" />
        <mark key="^" line="5" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/shared/utils/orm.py" timestamp="1515662746758">
        <mark key="[" line="13" column="27" />
        <mark key="]" line="13" column="31" />
        <mark key="." line="13" column="31" />
        <mark key="^" line="13" column="31" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/tools/test_proxy.py" timestamp="1514962722258">
        <mark key="[" line="15" column="15" />
        <mark key="]" line="15" column="16" />
        <mark key="." line="15" column="16" />
        <mark key="^" line="15" column="16" />
      </file>
      <file name="$USER_HOME$/workspace/devops/public_keys/max.pub" timestamp="1516848654600">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="416" />
        <mark key="^" line="0" column="416" />
        <mark key="." line="0" column="416" />
      </file>
      <file name="$USER_HOME$/workspace/FinanceService/finweb/templates/bank/BankOrderList.html" timestamp="1519722510483">
        <mark key="[" line="57" column="75" />
        <mark key="]" line="57" column="86" />
        <mark key="." line="41" column="56" />
        <mark key="^" line="41" column="56" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/requirements.txt" timestamp="1520580564074">
        <mark key="[" line="4" column="0" />
        <mark key="]" line="4" column="0" />
        <mark key="^" line="3" column="7" />
        <mark key="." line="4" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/campaign/daily_recharge_return.py" timestamp="1518058323427">
        <mark key="[" line="40" column="16" />
        <mark key="]" line="40" column="30" />
        <mark key="^" line="3" column="35" />
        <mark key="." line="3" column="35" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/jobs.py" timestamp="1520820408113">
        <mark key="'" line="97" column="7" />
        <mark key="[" line="55" column="42" />
        <mark key="]" line="55" column="59" />
        <mark key="." line="55" column="42" />
        <mark key="^" line="105" column="79" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bigbang-admin.supervisor.conf" timestamp="1512119475619">
        <mark key="[" line="1" column="14" />
        <mark key="]" line="1" column="21" />
        <mark key="." line="1" column="21" />
        <mark key="^" line="1" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/preset/view.py" timestamp="1517987906562">
        <mark key="[" line="215" column="28" />
        <mark key="]" line="215" column="23" />
        <mark key="." line="215" column="23" />
        <mark key="^" line="215" column="23" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/shared/controllers.py" timestamp="1520329088805">
        <mark key="[" line="222" column="22" />
        <mark key="]" line="222" column="36" />
        <mark key="^" line="222" column="36" />
        <mark key="." line="222" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/common/utils/auth.py" timestamp="1514622572392">
        <mark key="[" line="13" column="12" />
        <mark key="]" line="13" column="15" />
        <mark key="." line="13" column="15" />
        <mark key="^" line="13" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/ff_pk10/crawler.py" timestamp="1518144020166">
        <mark key="[" line="32" column="24" />
        <mark key="]" line="32" column="28" />
        <mark key="." line="32" column="28" />
        <mark key="^" line="32" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/latency_test/settings.py" timestamp="1520824113615">
        <mark key="[" line="13" column="31" />
        <mark key="]" line="13" column="32" />
        <mark key="." line="13" column="32" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/common/utils/logs.py" timestamp="1514602275017">
        <mark key="[" line="11" column="32" />
        <mark key="]" line="11" column="37" />
        <mark key="." line="11" column="37" />
        <mark key="^" line="11" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/kfc.nginx.conf" timestamp="1516013609040">
        <mark key="[" line="7" column="16" />
        <mark key="]" line="7" column="24" />
        <mark key="." line="7" column="24" />
        <mark key="^" line="7" column="24" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/shared/mongodb.py" timestamp="1515227120689">
        <mark key="[" line="3" column="0" />
        <mark key="]" line="3" column="11" />
        <mark key="^" line="3" column="11" />
        <mark key="." line="3" column="11" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/templates/register_by_invitation.html" timestamp="1516359909205">
        <mark key="[" line="196" column="23" />
        <mark key="]" line="196" column="23" />
        <mark key="^" line="196" column="23" />
        <mark key="." line="196" column="23" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/ff_pk10/db/order.py" timestamp="1516958868805">
        <mark key="[" line="4" column="29" />
        <mark key="]" line="4" column="30" />
        <mark key="." line="4" column="30" />
        <mark key="^" line="4" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/devops/config_files/cabot.nginx.conf" timestamp="1517569796868">
        <mark key="[" line="26" column="18" />
        <mark key="]" line="26" column="22" />
        <mark key="^" line="26" column="22" />
        <mark key="." line="26" column="22" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/fabfile.py" timestamp="1519983476755">
        <mark key="[" line="294" column="37" />
        <mark key="]" line="294" column="37" />
        <mark key="^" line="294" column="36" />
        <mark key="." line="294" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/Heimdall/shared/models.py" timestamp="1517905655937">
        <mark key="[" line="27" column="18" />
        <mark key="]" line="27" column="22" />
        <mark key="^" line="27" column="22" />
        <mark key="." line="27" column="22" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/lottery/ff_pk10/activity/handler.py" timestamp="1517045838787">
        <mark key="[" line="2" column="29" />
        <mark key="]" line="2" column="30" />
        <mark key="." line="2" column="30" />
        <mark key="^" line="2" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/pay_loki/payservice/base/settings_prod.py" timestamp="1516649715465">
        <mark key="[" line="20" column="36" />
        <mark key="]" line="20" column="36" />
        <mark key="." line="20" column="36" />
        <mark key="^" line="20" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/apps/main/templates/register_by_invitation.html" timestamp="1515471365092">
        <mark key="[" line="4" column="23" />
        <mark key="]" line="5" column="14" />
        <mark key="." line="5" column="14" />
        <mark key="^" line="5" column="14" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/apps/main/main_view.py" timestamp="1517537973300">
        <mark key="[" line="39" column="30" />
        <mark key="]" line="39" column="34" />
        <mark key="." line="39" column="34" />
        <mark key="^" line="39" column="34" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/deploy/config_files/bagent.supervisor.conf" timestamp="1515575002920">
        <mark key="[" line="15" column="33" />
        <mark key="]" line="15" column="37" />
        <mark key="." line="15" column="37" />
        <mark key="^" line="15" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/js/apps/report/activity.js" timestamp="1517018772077">
        <mark key="[" line="20" column="70" />
        <mark key="]" line="20" column="70" />
        <mark key="^" line="20" column="72" />
        <mark key="." line="20" column="70" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/js/apps/preset/banner.js" timestamp="1513071737564">
        <mark key="[" line="141" column="45" />
        <mark key="]" line="141" column="56" />
        <mark key="." line="141" column="45" />
        <mark key="^" line="141" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/Heimdall/requirements.txt" timestamp="1517907136713">
        <mark key="[" line="14" column="0" />
        <mark key="]" line="14" column="0" />
        <mark key="^" line="14" column="7" />
        <mark key="." line="14" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/timer/__init__.py" timestamp="1517450864099">
        <mark key="[" line="39" column="19" />
        <mark key="]" line="39" column="20" />
        <mark key="." line="39" column="20" />
        <mark key="^" line="39" column="45" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/main_app.py" timestamp="1519979510205">
        <mark key="[" line="13" column="41" />
        <mark key="]" line="13" column="42" />
        <mark key="." line="13" column="42" />
        <mark key="^" line="13" column="42" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bullws.nginx.conf" timestamp="1516013587256">
        <mark key="[" line="10" column="28" />
        <mark key="]" line="10" column="36" />
        <mark key="." line="10" column="36" />
        <mark key="^" line="10" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/cq_ssc/db/activity.py" timestamp="1517795576121">
        <mark key="[" line="96" column="0" />
        <mark key="]" line="96" column="37" />
        <mark key="." line="96" column="37" />
        <mark key="^" line="96" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/account/handler.py" timestamp="1515569432326">
        <mark key="[" line="66" column="33" />
        <mark key="]" line="66" column="34" />
        <mark key="^" line="66" column="34" />
        <mark key="." line="66" column="34" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/admin/stats/account.py" timestamp="1512043864077">
        <mark key="[" line="100" column="7" />
        <mark key="]" line="161" column="94" />
        <mark key="^" line="161" column="94" />
        <mark key="." line="161" column="94" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bigbang.nginx.conf" timestamp="1516013385454">
        <mark key="[" line="11" column="16" />
        <mark key="]" line="11" column="27" />
        <mark key="." line="11" column="27" />
        <mark key="^" line="11" column="27" />
      </file>
      <file name="$USER_HOME$/workspace/payservice/payweb/js/frame/const.js" timestamp="1520236507053">
        <mark key="[" line="136" column="17" />
        <mark key="]" line="136" column="17" />
        <mark key="." line="136" column="17" />
        <mark key="^" line="136" column="15" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/heimdall/views.py" timestamp="1518002900317">
        <mark key="[" line="59" column="16" />
        <mark key="]" line="59" column="25" />
        <mark key="." line="59" column="16" />
        <mark key="^" line="51" column="11" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/admin/stats/total.py" timestamp="1515756711143">
        <mark key="[" line="44" column="0" />
        <mark key="]" line="44" column="40" />
        <mark key="." line="44" column="40" />
        <mark key="^" line="44" column="40" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/utils/limit.py" timestamp="1516606129951">
        <mark key="[" line="22" column="4" />
        <mark key="]" line="22" column="20" />
        <mark key="^" line="23" column="70" />
        <mark key="." line="23" column="70" />
      </file>
      <file name="$USER_HOME$/workspace/devops/union" timestamp="1519785813189">
        <mark key="[" line="1" column="12" />
        <mark key="]" line="1" column="12" />
        <mark key="." line="1" column="12" />
        <mark key="^" line="1" column="10" />
      </file>
      <file name="$USER_HOME$/workspace/Heimdall/uwsgi.ini" timestamp="1517649216261">
        <mark key="[" line="5" column="38" />
        <mark key="]" line="5" column="41" />
        <mark key="." line="5" column="41" />
        <mark key="^" line="5" column="41" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/handler.py" timestamp="1516088611709">
        <mark key="[" line="21" column="0" />
        <mark key="]" line="21" column="49" />
        <mark key="." line="21" column="47" />
        <mark key="^" line="21" column="47" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/heimdall/urls.py" timestamp="1518002795449">
        <mark key="[" line="17" column="12" />
        <mark key="]" line="17" column="11" />
        <mark key="." line="17" column="11" />
        <mark key="^" line="17" column="11" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/__init__.py" timestamp="1519955807303">
        <mark key="[" line="92" column="0" />
        <mark key="]" line="110" column="35" />
        <mark key="." line="29" column="28" />
        <mark key="^" line="29" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/devops/ansible_hosts" timestamp="1518495384920">
        <mark key="[" line="3" column="13" />
        <mark key="]" line="3" column="14" />
        <mark key="^" line="2" column="13" />
        <mark key="." line="3" column="14" />
      </file>
      <file name="$USER_HOME$/workspace/BigBangService/deploy/deploy.sh" timestamp="1520844649558">
        <mark key="'" line="40" column="10" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/deploy/config_files/bagent.nginx.conf" timestamp="1517216186728">
        <mark key="[" line="1" column="11" />
        <mark key="]" line="1" column="26" />
        <mark key="." line="1" column="11" />
        <mark key="^" line="8" column="49" />
      </file>
      <file name="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/e_times.py" timestamp="1520300035977">
        <mark key="[" line="37" column="20" />
        <mark key="]" line="37" column="51" />
        <mark key="." line="37" column="51" />
        <mark key="^" line="37" column="51" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/campaign/view.py" timestamp="1518160452839">
        <mark key="[" line="48" column="0" />
        <mark key="]" line="52" column="66" />
        <mark key="^" line="52" column="10" />
        <mark key="." line="56" column="38" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/tools/create_daily_report.py" timestamp="1520670571454">
        <mark key="'" line="609" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/campaign/db/daily_recharge_return.py" timestamp="1513061997742">
        <mark key="[" line="8" column="27" />
        <mark key="]" line="8" column="34" />
        <mark key="." line="8" column="34" />
        <mark key="^" line="8" column="34" />
      </file>
      <file name="$USER_HOME$/workspace/latency_test/shared/models.py" timestamp="1520826967812">
        <mark key="^" line="20" column="48" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/tools/recharge_test.py" timestamp="1515226304560">
        <mark key="[" line="22" column="16" />
        <mark key="]" line="22" column="21" />
        <mark key="." line="22" column="21" />
        <mark key="^" line="22" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/FinanceService/finservice/api/urls.py" timestamp="1519720169413">
        <mark key="[" line="9" column="10" />
        <mark key="]" line="9" column="20" />
        <mark key="." line="12" column="50" />
        <mark key="^" line="12" column="29" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/js/apps/preset/models.js" timestamp="1513222072368">
        <mark key="[" line="94" column="20" />
        <mark key="]" line="94" column="20" />
        <mark key="." line="94" column="20" />
        <mark key="^" line="94" column="20" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/js/apps/stats/account.js" timestamp="1512041508370">
        <mark key="[" line="191" column="40" />
        <mark key="]" line="191" column="40" />
        <mark key="^" line="191" column="40" />
        <mark key="." line="191" column="40" />
      </file>
      <file name="$USER_HOME$/workspace/latency_test/shared/controllers.py" timestamp="1520835982107">
        <mark key="[" line="2" column="0" />
        <mark key="]" line="2" column="0" />
        <mark key="." line="2" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/settings_prod.py" timestamp="1519892345678">
        <mark key="[" line="3" column="0" />
        <mark key="]" line="3" column="67" />
        <mark key="^" line="3" column="11" />
        <mark key="." line="3" column="21" />
      </file>
      <file name="$USER_HOME$/workspace/cabot/conf/production.env" timestamp="1517565756849">
        <mark key="[" line="24" column="18" />
        <mark key="]" line="24" column="81" />
        <mark key="." line="24" column="81" />
        <mark key="^" line="24" column="81" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bigbang-admin.nginx.conf" timestamp="1516013483063">
        <mark key="[" line="6" column="16" />
        <mark key="]" line="6" column="27" />
        <mark key="." line="6" column="27" />
        <mark key="^" line="6" column="27" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/main.py" timestamp="1520819799949">
        <mark key="'" line="47" column="40" />
        <mark key="[" line="41" column="47" />
        <mark key="]" line="41" column="48" />
        <mark key="." line="41" column="48" />
        <mark key="^" line="41" column="48" />
      </file>
      <file name="$USER_HOME$/workspace/payservice/deploy/release/deploy.yaml" timestamp="1520215915935">
        <mark key="[" line="2" column="8" />
        <mark key="]" line="2" column="13" />
        <mark key="." line="2" column="13" />
        <mark key="^" line="2" column="13" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/heimdall/validators.py" timestamp="1517994542543">
        <mark key="[" line="6" column="4" />
        <mark key="]" line="6" column="17" />
        <mark key="^" line="8" column="23" />
        <mark key="." line="11" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bot.supervisor.conf" timestamp="1519871170807">
        <mark key="[" line="6" column="28" />
        <mark key="]" line="6" column="30" />
        <mark key="." line="6" column="30" />
        <mark key="^" line="6" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/bagent.nginx.conf" timestamp="1516589611826">
        <mark key="[" line="12" column="16" />
        <mark key="]" line="12" column="28" />
        <mark key="^" line="12" column="28" />
        <mark key="." line="12" column="28" />
      </file>
      <file name="$USER_HOME$/workspace/witch-bigbang/bigbang/base/urls.py" timestamp="1520907525590" />
      <file name="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" timestamp="1520820517165">
        <mark key="'" line="29" column="18" />
        <mark key="[" line="117" column="70" />
        <mark key="]" line="117" column="73" />
        <mark key="." line="117" column="73" />
        <mark key="^" line="117" column="73" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/fabfile.py" timestamp="1517216514311">
        <mark key="[" line="28" column="14" />
        <mark key="]" line="28" column="14" />
        <mark key="." line="28" column="14" />
        <mark key="^" line="28" column="14" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/notification/handler.py" timestamp="1513220481100">
        <mark key="[" line="49" column="62" />
        <mark key="]" line="49" column="66" />
        <mark key="^" line="49" column="66" />
        <mark key="." line="49" column="66" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/lottery/ff_pk10/activity/view.py" timestamp="1516954319653">
        <mark key="[" line="3" column="17" />
        <mark key="]" line="3" column="18" />
        <mark key="." line="3" column="18" />
        <mark key="^" line="3" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/requirements.txt" timestamp="1517995680323">
        <mark key="[" line="5" column="0" />
        <mark key="]" line="5" column="0" />
        <mark key="^" line="5" column="9" />
        <mark key="." line="5" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/lottery.nginx.conf" timestamp="1516013659976">
        <mark key="[" line="6" column="16" />
        <mark key="]" line="6" column="27" />
        <mark key="." line="6" column="27" />
        <mark key="^" line="6" column="27" />
      </file>
      <file name="$USER_HOME$/workspace/deploy/config_files/lotteryws.nginx.conf" timestamp="1516013678136">
        <mark key="[" line="10" column="28" />
        <mark key="]" line="10" column="36" />
        <mark key="." line="10" column="36" />
        <mark key="^" line="10" column="36" />
      </file>
      <file name="$USER_HOME$/workspace/devops/test" timestamp="1520216281837">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="7" />
        <mark key="^" line="0" column="7" />
        <mark key="." line="0" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/__init__.py" timestamp="1520405596382">
        <mark key="[" line="95" column="17" />
        <mark key="]" line="95" column="18" />
        <mark key="." line="95" column="18" />
        <mark key="^" line="95" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/templates/preset/BannerList.html" timestamp="1513221940488">
        <mark key="[" line="46" column="0" />
        <mark key="]" line="47" column="93" />
        <mark key="." line="46" column="0" />
        <mark key="^" line="43" column="44" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbangweb/js/frame/const.js" timestamp="1519463948189">
        <mark key="[" line="83" column="15" />
        <mark key="]" line="83" column="30" />
        <mark key="." line="83" column="30" />
        <mark key="^" line="83" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/devops/dev_host" timestamp="1515999694564">
        <mark key="[" line="12" column="0" />
        <mark key="]" line="12" column="0" />
        <mark key="^" line="11" column="2" />
        <mark key="." line="12" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/payservice/payservice/api/urls.py" timestamp="1520066809115">
        <mark key="[" line="99" column="13" />
        <mark key="]" line="99" column="18" />
        <mark key="." line="99" column="79" />
        <mark key="^" line="99" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/requirements.txt" timestamp="1517470407102">
        <mark key="[" line="2" column="12" />
        <mark key="]" line="2" column="13" />
        <mark key="^" line="11" column="12" />
        <mark key="." line="2" column="13" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/transaction/db.py" timestamp="1519782987989">
        <mark key="[" line="163" column="26" />
        <mark key="]" line="163" column="27" />
        <mark key="^" line="163" column="27" />
        <mark key="." line="163" column="27" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/abstract/activity.py" timestamp="1518662739447">
        <mark key="[" line="14" column="0" />
        <mark key="]" line="14" column="37" />
        <mark key="." line="189" column="0" />
        <mark key="^" line="190" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/apps/main/urls.py" timestamp="1516353072969">
        <mark key="[" line="5" column="47" />
        <mark key="]" line="5" column="50" />
        <mark key="." line="5" column="50" />
        <mark key="^" line="5" column="50" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/utils/tz.py" timestamp="1516866706381">
        <mark key="[" line="108" column="11" />
        <mark key="]" line="108" column="62" />
        <mark key="." line="112" column="62" />
        <mark key="^" line="112" column="62" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/lottery/cyclical/tc_pls/crawler.py" timestamp="1514945371582">
        <mark key="[" line="36" column="0" />
        <mark key="]" line="36" column="77" />
        <mark key="^" line="36" column="63" />
        <mark key="." line="22" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/text_templates.py" timestamp="1520819879652">
        <mark key="'" line="109" column="0" />
        <mark key="[" line="25" column="6" />
        <mark key="]" line="25" column="6" />
        <mark key="." line="25" column="6" />
        <mark key="^" line="19" column="9" />
      </file>
      <file name="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/juchengpay.py" timestamp="1520238299480">
        <mark key="'" line="151" column="29" />
      </file>
      <file name="/Dummy.txt" timestamp="1520820696246">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="0" />
        <mark key="^" line="0" column="11" />
        <mark key="." line="0" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/preset/model/preset.py" timestamp="1516873114647">
        <mark key="[" line="14" column="5" />
        <mark key="]" line="14" column="18" />
        <mark key="." line="14" column="42" />
        <mark key="^" line="14" column="18" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/pay/model.py" timestamp="1519463786667">
        <mark key="[" line="14" column="5" />
        <mark key="]" line="14" column="15" />
        <mark key="." line="14" column="37" />
        <mark key="^" line="14" column="37" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/api/lottery/ff_pk10/order/view.py" timestamp="1516954460472">
        <mark key="[" line="6" column="29" />
        <mark key="]" line="6" column="30" />
        <mark key="." line="6" column="30" />
        <mark key="^" line="6" column="30" />
      </file>
      <file name="$USER_HOME$/workspace/loki_bot/commands.py" timestamp="1520820118720">
        <mark key="'" line="23" column="0" />
        <mark key="[" line="42" column="31" />
        <mark key="]" line="42" column="68" />
        <mark key="." line="42" column="31" />
        <mark key="^" line="45" column="53" />
      </file>
      <file name="$USER_HOME$/workspace/BigBangService/bot/utils/interface.py" timestamp="1520844400213">
        <mark key="'" line="19" column="0" />
      </file>
      <file name="$USER_HOME$/workspace/devops/public_keys/ranky.pub" timestamp="1517297801059">
        <mark key="[" line="0" column="0" />
        <mark key="]" line="0" column="398" />
        <mark key="^" line="0" column="398" />
        <mark key="." line="0" column="398" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/heimdall/exceptsions.py" timestamp="1517993943233">
        <mark key="[" line="3" column="6" />
        <mark key="]" line="3" column="17" />
        <mark key="^" line="4" column="7" />
        <mark key="." line="4" column="7" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/deploy/config_files/agency.nginx.conf" timestamp="1514603188299">
        <mark key="[" line="25" column="29" />
        <mark key="]" line="25" column="34" />
        <mark key="." line="25" column="34" />
        <mark key="^" line="25" column="34" />
      </file>
      <file name="$USER_HOME$/workspace/heimdall/heimdall/__init__.py" timestamp="1517971562903">
        <mark key="[" line="4" column="6" />
        <mark key="]" line="4" column="14" />
        <mark key="." line="4" column="14" />
        <mark key="^" line="4" column="14" />
      </file>
      <file name="$USER_HOME$/workspace/bagent/deploy/stages.py" timestamp="1517216600304">
        <mark key="[" line="4" column="33" />
        <mark key="]" line="4" column="47" />
        <mark key="." line="4" column="47" />
        <mark key="^" line="4" column="47" />
      </file>
      <file name="$USER_HOME$/workspace/bigbang-server/bigbang/common/preset/db/banner.py" timestamp="1513064590673">
        <mark key="[" line="16" column="4" />
        <mark key="]" line="16" column="21" />
        <mark key="." line="18" column="0" />
        <mark key="^" line="17" column="10" />
      </file>
    </filemarks>
    <jumps>
      <jump line="50" column="19" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="1" column="99" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="4" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="83" column="24" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="48" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="58" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="35" column="23" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="17" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="26" column="15" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="53" column="66" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="47" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="32" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="118" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="67" column="66" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="27" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="11" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="43" column="35" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="57" column="0" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="39" column="0" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="160" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="152" column="63" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="10" column="25" filename="$USER_HOME$/workspace/bagent/settings_prod.py" />
      <jump line="103" column="46" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="59" column="32" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="15" column="60" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="27" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="69" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="123" column="0" filename="$USER_HOME$/workspace/payservice/payservice/base/settings.py" />
      <jump line="303" column="25" filename="$USER_HOME$/workspace/payservice/payservice/api/notify/view.py" />
      <jump line="1010" column="0" filename="$USER_HOME$/workspace/payservice/payservice/api/notify/view.py" />
      <jump line="1024" column="38" filename="$USER_HOME$/workspace/payservice/payservice/api/notify/view.py" />
      <jump line="186" column="40" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/skillfully_pay.py" />
      <jump line="198" column="0" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="194" column="8" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="134" column="4" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="121" column="45" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="155" column="0" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="41" column="0" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="45" column="16" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="7" column="24" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="180" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="77" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="53" column="8" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="111" column="21" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="1002" column="30" filename="$USER_HOME$/workspace/payservice/payservice/api/notify/view.py" />
      <jump line="85" column="31" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/model.py" />
      <jump line="175" column="29" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/model.py" />
      <jump line="92" column="25" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="43" column="28" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="46" column="18" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="3" column="30" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/albpay.py" />
      <jump line="2" column="0" filename="$USER_HOME$/workspace/payservice/deploy/requirement.txt" />
      <jump line="11" column="44" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/model.py" />
      <jump line="60" column="4" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/juchengpay.py" />
      <jump line="151" column="29" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/pay/juchengpay.py" />
      <jump line="143" column="35" filename="$USER_HOME$/workspace/payservice/payservice/common/channel/model.py" />
      <jump line="3" column="15" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/manual_add_award.py" />
      <jump line="3" column="0" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/manual_award.py" />
      <jump line="124" column="15" filename="$USER_HOME$/workspace/bigbang-server/bigbang/common/notification/handler.py" />
      <jump line="126" column="15" filename="$USER_HOME$/workspace/bigbang-server/bigbang/common/notification/handler.py" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/bigbang-server/bigbang/common/notification/handler.py" />
      <jump line="33" column="26" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/manual_award.py" />
      <jump line="16" column="0" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/manual_award.py" />
      <jump line="32" column="62" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/manual_award.py" />
      <jump line="25" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="13" column="36" filename="$USER_HOME$/workspace/loki_bot/db.py" />
      <jump line="96" column="110" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="0" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="20" column="0" filename="$USER_HOME$/workspace/loki_bot/commands.py" />
      <jump line="209" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="24" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="206" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="81" column="4" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="25" column="2" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="86" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="208" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="60" column="24" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="91" column="9" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="35" column="13" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="58" column="48" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="163" column="62" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="85" column="28" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="90" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="230" column="0" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="31" column="13" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="5" column="80" filename="$USER_HOME$/workspace/bigbang-server/bigbang/base/settings_prod.py" />
      <jump line="14" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="94" column="0" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="96" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="102" column="0" filename="$USER_HOME$/workspace/loki_bot/text_templates.py" />
      <jump line="96" column="7" filename="$USER_HOME$/workspace/loki_bot/jobs.py" />
      <jump line="238" column="4" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="45" column="40" filename="$USER_HOME$/workspace/loki_bot/main.py" />
      <jump line="29" column="18" filename="$USER_HOME$/workspace/loki_bot/bussiness_logic.py" />
      <jump line="515" column="7" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/create_daily_report.py" />
      <jump line="609" column="7" filename="$USER_HOME$/workspace/bigbang-server/bigbang/tools/create_daily_report.py" />
      <jump line="23" column="0" filename="$USER_HOME$/workspace/loki_bot/commands.py" />
      <jump line="19" column="0" filename="$USER_HOME$/workspace/BigBangService/bot/utils/interface.py" />
      <jump line="40" column="10" filename="$USER_HOME$/workspace/BigBangService/deploy/deploy.sh" />
    </jumps>
    <registers>
      <register name="&quot;" type="2">
        <text encoding="base64">CmRlZiBsb2dpbl91c2VyKGVtYWlsLCBwYXNzd29yZCk6CiAgICB1c2VyID0gQWRtaW5Vc2VyLnF1ZXJ5LmZpbHRlcihBZG1pblVzZXIuZW1haWwgPT0gZW1haWwpLmZpcnN0KCkKICAgIGlmIG5vdCB1c2VyOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnYWNjb3VudCBub3QgZm91bmQnKQogICAgaWYgZW5jb2RlX3Bhc3N3b3JkKHBhc3N3b3JkKSAhPSB1c2VyLnBhc3N3b3JkOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnaW52YWxpZCBwYXNzd29yZCcpCgogICAgdXNlcl90b2tlbiA9IEFkbWluVXNlclRva2VuKCkKICAgIHVzZXJfdG9rZW4udXNlcl9pZCA9IHVzZXIuaWQKICAgIHVzZXJfdG9rZW4udG9rZW4gPSB1dWlkLnV1aWQ0KCkKICAgIHVzZXJfdG9rZW4uZGVsZXRlZCA9IDAKICAgIERCLnNlc3Npb24uYWRkKHVzZXJfdG9rZW4pCiAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCgogICAgdXNlcl9pbmZvID0gdG9fZGljdCh1c2VyKQogICAgdXNlcl9pbmZvWyd0b2tlbiddID0gdXNlcl90b2tlbi50b2tlbgogICAgdXNlcl9pbmZvLnBvcCgncGFzc3dvcmQnKQogICAgcmV0dXJuIHVzZXJfaW5mbwoKCmRlZiBsb2dvdXRfdXNlcih1c2VyX2lkLCB0b2tlbik6CiAgICB1c2VyX3Rva2VuID0gQWRtaW5Vc2VyVG9rZW4ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoQWRtaW5Vc2VyVG9rZW4udXNlcl9pZCA9PSB1c2VyX2lkKS4gXAogICAgICAgIGZpbHRlcihBZG1pblVzZXJUb2tlbi50b2tlbiA9PSB0b2tlbikuZmlyc3QoKQogICAgaWYgbm90IHVzZXJfdG9rZW46CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdpbnZhbGlkIHVzZXJfaWQgb3IgdG9rZW4nKQogICAgdXNlcl90b2tlbi5kZWxldGVkID0gMQogICAgREIuc2Vzc2lvbi5jb21taXQoKQoKCmRlZiBnZXRfYWRtaW5fdXNlcih1c2VyX2lkKToKICAgIHJldHVybiBBZG1pblVzZXIucXVlcnkuZmlsdGVyKEFkbWluVXNlci5pZCA9PSB1c2VyX2lkKS5maXJzdCgpCgoKZGVmIGNyZWF0ZV9hZ2VudF9ieV9pbnZpdGF0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgc3VwZXJpb3JfaWQsIGludml0YXRpb25fcmVjb3JkKToKICAgIHNlc3Npb24gPSBEQi5zZXNzaW9uKCkKICAgIHRyeToKICAgICAgICBhY2NvdW50ID0gQWNjb3VudCgpCiAgICAgICAgYWNjb3VudC51c2VyX25hbWUgPSB1c2VybmFtZQogICAgICAgIGFjY291bnQuc2V0X3Bhc3N3b3JkKHBhc3N3b3JkKQogICAgICAgIHNlc3Npb24uYWRkKGFjY291bnQpCgogICAgICAgIHNlc3Npb24uZmx1c2goKQoKICAgICAgICBhZ2VudCA9IEFnZW50KCkKICAgICAgICBhZ2VudC51c2VyX2lkID0gYWNjb3VudC5pZAogICAgICAgIGFnZW50LnBhcmVudF9pZCA9IHN1cGVyaW9yX2lkCiAgICAgICAgc2Vzc2lvbi5hZGQoYWdlbnQpCiAgICAgICAgc2Vzc2lvbi5mbHVzaCgpCgogICAgICAgIHBhcmVudCA9IGdldF9hZ2VudF9ieV9hZ2VudF9pZChzdXBlcmlvcl9pZCkKCiAgICAgICAgaWYgaW52aXRhdGlvbl9yZWNvcmQudHlwZSA9PSBJbnZpdGF0aW9uVHlwZS5PTkVfVElNRS52YWx1ZToKICAgICAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQuc3RhdHVzID0gSW52aXRhdGlvblN0YXR1cy5OT1RfQVZBSUxBQkxFLnZhbHVlCiAgICAgICAgICAgIGludml0YXRpb25fcmVjb3JkLnJlY2VpdmVyX2FnZW50X2lkX2xpc3QgPSBqc29uLmR1bXBzKFthZ2VudC5pZF0pCiAgICAgICAgICAgIGFwcGx5X3JldHVybl9yYXRlX2J5X2ludml0YXRpb24ocGFyZW50LCBhZ2VudCwgZmxvYXQoaW52aXRhdGlvbl9yZWNvcmQucmV0dXJuX3JhdGUpKQogICAgICAgICAgICByZXR1cm5fcmF0ZV9saXN0ID0ganNvbi5sb2FkcyhpbnZpdGF0aW9uX3JlY29yZC5yZXR1cm5fcmF0ZV9saXN0KQogICAgICAgICAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgICAgICAgICAgYXNzaWduX3JldHVybl9yYXRlX2J5X2ludml0YXRpb24ocGFyZW50LmlkLCBhZ2VudC5pZCwgZmxvYXQoaXRlbS5nZXQoJ2Ftb3VudCcpKSwgaW50KGl0ZW0uZ2V0KCdjb3VudCcpKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBpbnZpdGF0aW9uX3JlY29yZC5yZWNlaXZlcl9hZ2VudF9pZF9saXN0OgogICAgICAgICAgICAgICAgaWRfbGlzdCA9IGpzb24ubG9hZHMoaW52aXRhdGlvbl9yZWNvcmQucmVjZWl2ZXJfYWdlbnRfaWRfbGlzdCkKICAgICAgICAgICAgICAgIGlkX2xpc3QuYXBwZW5kKGFnZW50LmlkKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWRfbGlzdCA9IFthZ2VudC5pZF0KICAgICAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQucmVjZWl2ZXJfYWdlbnRfaWRfbGlzdCA9IGpzb24uZHVtcHMoaWRfbGlzdCkKICAgICAgICAgICAgYXBwbHlfcmV0dXJuX3JhdGVfYnlfaW52aXRhdGlvbihwYXJlbnQsIGFnZW50LCBmbG9hdChpbnZpdGF0aW9uX3JlY29yZC5yZXR1cm5fcmF0ZSkpCiAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQudXBkYXRlZF9hdCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpCiAgICAgICAgc2Vzc2lvbi5jb21taXQoKQogICAgICAgIHJldHVybiBhZ2VudC5pZAogICAgZXhjZXB0IFJldHVyblJhdGVOb3RFbm91Z2ggYXMgZToKICAgICAgICB0cmFjZWJhY2sucHJpbnRfdGIoZS5fX3RyYWNlYmFja19fKQogICAgICAgIHNlc3Npb24ucm9sbGJhY2soKQogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgbm90IGVub3VnaCcsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHRyYWNlYmFjay5wcmludF90YihlLl9fdHJhY2ViYWNrX18pCiAgICAgICAgc2Vzc2lvbi5yb2xsYmFjaygpCiAgICAgICAgYWJvcnRfanNvbig0MDAsICdkdXBsaWNhdGUgdXNlcicsIEVycm9yQ29kZS5EVVBMSUNBVEVEX1VTRVIudmFsdWUsIGUpCiAgICBmaW5hbGx5OgogICAgICAgIHNlc3Npb24uY2xvc2UoKQoKCmRlZiBpc19yZXR1cm5fcmF0ZV92YWxpZChyZXR1cm5fcmF0ZSk6CiAgICBpZiBNSU5fUkVUVVJOX1JBVEUgPD0gcmV0dXJuX3JhdGUgPD0gTUFYX1JFVFVSTl9SQVRFOgogICAgICAgIHJldHVybiBUcnVlCgoKZGVmIF9jcmVhdGVfcm9vdF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIGJvbnVzX3JhdGUsIHJldHVybl9yYXRlLCByZXR1cm5fcmF0ZV9saXN0KToKICAgICMgY3JlYXRlIGFjY291bnQKICAgIGFjY291bnQgPSBBY2NvdW50KCkKICAgIGFjY291bnQudXNlcl9uYW1lID0gdXNlcm5hbWUKICAgIGFjY291bnQuc2V0X3Bhc3N3b3JkKHBhc3N3b3JkKQogICAgREIuc2Vzc2lvbi5hZGQoYWNjb3VudCkKICAgIERCLnNlc3Npb24uZmx1c2goKQoKICAgICMgY3JlYXRlIGFnZW50CiAgICBhZ2VudCA9IEFnZW50KCkKICAgIGFnZW50LnVzZXJfaWQgPSBhY2NvdW50LmlkCiAgICBhZ2VudC5ib251c19yYXRlID0gYm9udXNfcmF0ZQogICAgREIuc2Vzc2lvbi5hZGQoYWdlbnQpCiAgICBEQi5zZXNzaW9uLmZsdXNoKCkKCiAgICAjIGFwcGx5IHJldHVybiByYXRlCiAgICByZXR1cm5fcmF0ZV9pdGVtID0gUmV0dXJuUmF0ZUl0ZW0oKQogICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IGFnZW50LmlkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnVzZXJfaWQgPSBhZ2VudC5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgcmV0dXJuX3JhdGVfaXRlbS5hbW91bnQgPSByZXR1cm5fcmF0ZQogICAgREIuc2Vzc2lvbi5hZGQocmV0dXJuX3JhdGVfaXRlbSkKCiAgICAjIGFzc2lnbiByZXR1cm4gcmF0ZSBsaXN0CiAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgIGlmIG5vdCBpc19yZXR1cm5fcmF0ZV92YWxpZChmbG9hdChpdGVtLmdldCgnYW1vdW50JykpKToKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdyZXR1cm4gcmF0ZSBpbnZhbGlkJykKICAgICAgICBmb3IgXyBpbiByYW5nZShpbnQoaXRlbS5nZXQoJ2NvdW50JykpKToKICAgICAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtKCkKICAgICAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5hbW91bnQgPSBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpCiAgICAgICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSBhZ2VudC5pZAogICAgICAgICAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBfY3JlYXRlX25vcm1hbF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIHN1cGVyaW9yX2lkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCk6CiAgICAjIGNyZWF0ZSBhY2NvdW50CiAgICBzZXNzaW9uID0gREIuc2Vzc2lvbigpCiAgICBhY2NvdW50ID0gQWNjb3VudCgpCiAgICBhY2NvdW50LnVzZXJfbmFtZSA9IHVzZXJuYW1lCiAgICBhY2NvdW50LnNldF9wYXNzd29yZChwYXNzd29yZCkKICAgIHNlc3Npb24uYWRkKGFjY291bnQpCiAgICBzZXNzaW9uLmZsdXNoKCkKCiAgICAjIGNyZWF0ZSBhZ2VudAogICAgYWdlbnQgPSBBZ2VudCgpCiAgICBhZ2VudC51c2VyX2lkID0gYWNjb3VudC5pZAogICAgYWdlbnQucGFyZW50X2lkID0gc3VwZXJpb3JfaWQKICAgIGFnZW50LmJvbnVzX3JhdGUgPSBib251c19yYXRlCiAgICBzZXNzaW9uLmFkZChhZ2VudCkKICAgIERCLnNlc3Npb24uZmx1c2goKQoKICAgICMgYXBwbHkgcmV0dXJuIHJhdGUKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBEQi5zZXNzaW9uLnF1ZXJ5KFJldHVyblJhdGVJdGVtKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzdXBlcmlvcl9pZCkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uYW1vdW50ID09IHJldHVybl9yYXRlKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUpLndpdGhfZm9yX3VwZGF0ZSgpLmZpcnN0KCkKICAgIGlmIG5vdCByZXR1cm5fcmF0ZV9pdGVtOgogICAgICAgIHJhaXNlIFJldHVyblJhdGVJbnZhbGlkKCkKICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSBhZ2VudC5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS51c2VyX2lkID0gYWdlbnQuaWQKICAgIHJldHVybl9yYXRlX2l0ZW0uc3RhdHVzID0gUmV0dXJuUmF0ZVN0YXR1cy5JTl9VU0UudmFsdWUKCiAgICAjIGFzc2lnbiByZXR1cm4gcmF0ZSBsaXN0CiAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgIHJldHVybl9yYXRlX2l0ZW1zID0gc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLm93bmVyX2lkID09IHN1cGVyaW9yX2lkKS4gXAogICAgICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uYW1vdW50ID09IGZsb2F0KGl0ZW0uZ2V0KCdhbW91bnQnKSkpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUpLiBcCiAgICAgICAgICAgIHdpdGhfZm9yX3VwZGF0ZSgpLmxpbWl0KGludChpdGVtLmdldCgnY291bnQnKSkpLmFsbCgpCiAgICAgICAgaWYgbGVuKHJldHVybl9yYXRlX2l0ZW1zKSA8IGludChpdGVtLmdldCgnY291bnQnKSk6CiAgICAgICAgICAgIHJhaXNlIFJldHVyblJhdGVOb3RFbm91Z2goKQogICAgICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gYWdlbnQuaWQKCgpkZWYgY3JlYXRlX2FnZW50X2J5X2FkbWluKHVzZXJuYW1lLCBwYXNzd29yZCwgaXNfcm9vdCwgc3VwZXJpb3JfaWQsIGJvbnVzX3JhdGUsIHJldHVybl9yYXRlLCByZXR1cm5fcmF0ZV9saXN0KToKICAgIHRyeToKICAgICAgICBpZiBpc19yb290OgogICAgICAgICAgICBfY3JlYXRlX3Jvb3RfYWdlbnQodXNlcm5hbWUsIHBhc3N3b3JkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY3JlYXRlX25vcm1hbF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIHN1cGVyaW9yX2lkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCkKICAgICAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgQVBJX0xPR0dFUi5lcnJvcihlKQogICAgICAgIERCLnNlc3Npb24ucm9sbGJhY2soKQogICAgICAgIGFib3J0X2pzb24oNDAwLCAnY3JlYXRlIGFnZW50IGZhaWxlZCcsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZmluYWxseToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkKCgpkZWYgdXBkYXRlX2JvbnVzX3JhdGUoYWdlbnQsIGJvbnVzX3JhdGUpOgogICAgYWdlbnQuYm9udXNfcmF0ZSA9IGJvbnVzX3JhdGUKICAgIERCLnNlc3Npb24uY29tbWl0KCkKCgpkZWYgZ2V0X2FnZW50X2RldGFpbChhZ2VudF9pZCk6CiAgICBhZ2VudCA9IEFnZW50LnF1ZXJ5LmZpbHRlcihBZ2VudC5pZCA9PSBhZ2VudF9pZCkuZmlyc3QoKQogICAgaWYgbm90IGFnZW50OgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnYWdlbnRfaWQgPCVzPiBpbnZhbGlkJyAlIGFnZW50X2lkKQogICAgYWNjb3VudCA9IEFjY291bnQucXVlcnkuZmlsdGVyKEFjY291bnQuaWQgPT0gYWdlbnQudXNlcl9pZCkuZmlyc3QoKQogICAgaWYgbm90IGFjY291bnQ6CiAgICAgICAgYWJvcnRfanNvbig1MDAsICdhZ2VudCBkYXRhIGNvcnJ1cHQsIG5vIGNvcnJlc3BvbmRpbmcgYWNjb3VudCBmb3VuZCBmb3IgYWdlbnQgPCVzPicgJSBhZ2VudC5pZCkKICAgIHJldHVybiB7CiAgICAgICAgJ3VzZXJfaWQnOiBpbnQoYWNjb3VudC5pZCksCiAgICAgICAgJ2FnZW50X2lkJzogaW50KGFnZW50LmlkKSwKICAgICAgICAndXNlcm5hbWUnOiBhY2NvdW50LnVzZXJfbmFtZSwKICAgICAgICAnYmFsYW5jZSc6IGZsb2F0KGFjY291bnQuYmFsYW5jZSksCiAgICAgICAgJ2JvbnVzX3JhdGUnOiBmbG9hdChhZ2VudC5ib251c19yYXRlKSBpZiBhZ2VudC5ib251c19yYXRlIGVsc2UgMCwKICAgICAgICAnbGV2ZWwnOiBpbnQoYWdlbnQubGV2ZWwpLAogICAgICAgICdwYXJlbnRfaWQnOiBpbnQoYWdlbnQucGFyZW50X2lkKSBpZiBhZ2VudC5wYXJlbnRfaWQgZWxzZSBOb25lLAogICAgICAgICdyZXR1cm5fcmF0ZSc6IGdldF9hcHBsaWVkX3JldHVybl9yYXRlKGFnZW50LmlkKSwKICAgICAgICAnam9pbl9kYXRlJzogYWdlbnQuam9pbl9kYXRlLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpLAogICAgfQoKCmRlZiBnZXRfYWdlbnRfc3RhdHMoYWdlbnRfaWQpOgogICAgYWJvcnRfanNvbig0MDAsIHUn57uf6K6h5pWw5o2u5o6l5Y+j6ZyA6KaB5LyY5YyW77yM5pqC5LiN5Y+v55SoJykKICAgIGFnZW50ID0gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LmlkID09IGFnZW50X2lkKS5maXJzdCgpCiAgICBpZiBub3QgYWdlbnQ6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdhZ2VudF9pZCA8JXM+IGludmFsaWQnICUgYWdlbnRfaWQpCiAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS5maWx0ZXIoQWNjb3VudC5pZCA9PSBhZ2VudC51c2VyX2lkKS5maXJzdCgpCiAgICBpZiBub3QgYWNjb3VudDoKICAgICAgICBhYm9ydF9qc29uKDUwMCwgJ2FnZW50IGRhdGEgY29ycnVwdCwgbm8gY29ycmVzcG9uZGluZyBhY2NvdW50IGZvdW5kJykKICAgICMgcmV0dXJuX2Ftb3VudCA9IGZsb2F0KGdldF9yZXR1cm5fYW1vdW50KGFnZW50LmlkKSkKICAgIHJldHVybl9hbW91bnQgPSAwCiAgICBiZXRfYW1vdW50ID0gZ2V0X2JldF9hbW91bnQoYWdlbnQpCiAgICB3aW5fYW1vdW50ID0gZ2V0X3dpbl9hbW91bnQoYWdlbnQpCiAgICByZXR1cm4gewogICAgICAgICd1c2VyX2lkJzogaW50KGFjY291bnQuaWQpLAogICAgICAgICdhZ2VudF9pZCc6IGludChhZ2VudC5pZCksCiAgICAgICAgJ3VzZXJuYW1lJzogYWNjb3VudC51c2VyX25hbWUsCiAgICAgICAgJ2JhbGFuY2UnOiBmbG9hdChhY2NvdW50LmJhbGFuY2UpLAogICAgICAgICdib251c19yYXRlJzogZmxvYXQoYWdlbnQuYm9udXNfcmF0ZSksCiAgICAgICAgIyAnbW9udGhfYm9udXMnOiBnZXRfbW9udGhfYm9udXMoYWdlbnQpLAogICAgICAgICdtb250aF9ib251cyc6IDAsCiAgICAgICAgJ3JlY2hhcmdlX2Ftb3VudCc6IGdldF9yZWNoYXJnZV9hbW91bnQoYWdlbnQpLAogICAgICAgICd3aXRoZHJhd19hbW91bnQnOiBnZXRfd2l0aGRyYXdfYW1vdW50KGFnZW50KSwKICAgICAgICAnYmV0X2Ftb3VudCc6IGJldF9hbW91bnQsCiAgICAgICAgJ3dpbl9hbW91bnQnOiB3aW5fYW1vdW50LAogICAgICAgICdzZWxmX3Byb2ZpdCc6IHJldHVybl9hbW91bnQgKyB3aW5fYW1vdW50IC0gYmV0X2Ftb3VudCwKICAgICAgICAnY2FtcGFpZ25fYXdhcmQnOiAwLAogICAgICAgICdsZXZlbCc6IGludChhZ2VudC5sZXZlbCksCiAgICAgICAgJ3BhcmVudF9pZCc6IGludChhZ2VudC5wYXJlbnRfaWQpIGlmIGFnZW50LnBhcmVudF9pZCBlbHNlIE5vbmUsCiAgICAgICAgJ3JldHVybl9yYXRlJzogZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoYWdlbnQuaWQpLAogICAgICAgICdyZXR1cm5fYW1vdW50JzogcmV0dXJuX2Ftb3VudCwKICAgICAgICAnam9pbl9kYXRlJzogYWdlbnQuam9pbl9kYXRlLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpLAogICAgfQoKCmRlZiBnZXRfcmVjaGFyZ2VfYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKICAgIHJlY2hhcmdlID0gdXNlcl9zdGF0cy5nZXQoJ3JlY2hhcmdlJykKICAgIGlmIG5vdCByZWNoYXJnZToKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIHJlY2hhcmdlLmdldCgndG90YWwnKQoKCmRlZiBnZXRfd2l0aGRyYXdfYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKICAgIHdpdGhkcmF3ID0gdXNlcl9zdGF0cy5nZXQoJ3dpdGhkcmF3JykKICAgIGlmIG5vdCB3aXRoZHJhdzoKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIHdpdGhkcmF3LmdldCgndG90YWwnKQoKCmRlZiBnZXRfYmV0X2Ftb3VudChhZ2VudCk6CiAgICB1c2VyX3N0YXRzID0gTW9uZ29CaWdiYW5nLmRiLnVzZXJfc3RhdHMuZmluZF9vbmUoeydfaWQnOiBhZ2VudC51c2VyX2lkfSkKICAgIGlmIG5vdCB1c2VyX3N0YXRzOgogICAgICAgIHJldHVybiAwCiAgICBwYXkgPSB1c2VyX3N0YXRzLmdldCgncGF5JykKICAgIGlmIG5vdCBwYXk6CiAgICAgICAgcmV0dXJuIDAKICAgIHJldHVybiBwYXkuZ2V0KCd0b3RhbCcpCgoKZGVmIGdldF93aW5fYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKCiAgICB3aW4gPSB1c2VyX3N0YXRzLmdldCgnd2luJykKICAgIGlmIG5vdCB3aW46CiAgICAgICAgd2luX2Ftb3VudCA9IDAKICAgIGVsc2U6CiAgICAgICAgd2luX2Ftb3VudCA9IHdpbi5nZXQoJ3RvdGFsJykKCiAgICBib251cyA9IHVzZXJfc3RhdHMuZ2V0KCdib251cycpCiAgICBpZiBub3QgYm9udXM6CiAgICAgICAgYm9udXNfYW1vdW50ID0gMAogICAgZWxzZToKICAgICAgICBib251c19hbW91bnQgPSBib251cy5nZXQoJ3RvdGFsJykKCiAgICByZXR1cm4gd2luX2Ftb3VudCArIGJvbnVzX2Ftb3VudAoKCmRlZiBnZXRfbW9udGhfYm9udXMoYWdlbnQpOgogICAgc3RhcnQgPSBkYXRldGltZS5kYXRldGltZS50b2RheSgpLnJlcGxhY2UoZGF5PTEpCiAgICBlbmQgPSBkYXRldGltZS5kYXRldGltZS5ub3coKQogICAgcmV0dXJuIGdldF90ZWFtX3Byb2ZpdChhZ2VudCwgc3RhcnQsIGVuZCkgKiBmbG9hdChhZ2VudC5ib251c19yYXRlKQoKCmRlZiBnZXRfc2VsZl9wcm9maXQoYWdlbnQsIHN0YXJ0LCBlbmQpOgogICAgYmV0X2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXNlcl9pZCA9PSBhZ2VudC51c2VyX2lkKS4gXAogICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXBkYXRlZF9hdCA+PSBzdGFydCkuIFwKICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5CQUxBTkNFX0JVWS52YWx1ZSkuIFwKICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnRpdGxlID09IHUn6LSt5b2pJykuc2NhbGFyKCkgb3IgMAogICAgcmV0dXJuX2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXNlcl9pZCA9PSBhZ2VudC51c2VyX2lkKS4gXAogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXBkYXRlZF9hdCA+PSBzdGFydCkuIFwKICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5BR0VOVF9SRVRVUk4udmFsdWUpLnNjYWxhcigpIG9yIDAKICAgIGF3YXJkX2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi51c2VyX2lkID09IGFnZW50LnVzZXJfaWQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPj0gc3RhcnQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLkFXQVJELnZhbHVlKS5zY2FsYXIoKSBvciAwCiAgICByZXR1cm4gYWJzKGZsb2F0KGF3YXJkX2Ftb3VudCkpICsgYWJzKGZsb2F0KHJldHVybl9hbW91bnQpKSAtIGFicyhmbG9hdChiZXRfYW1vdW50KSkKCgpkZWYgZ2V0X3RlYW1fcHJvZml0KGFnZW50LCBzdGFydCwgZW5kKToKICAgIHRlYW1fcHJvZml0ID0gZ2V0X2NhY2hlZF90ZWFtX3Byb2ZpdChhZ2VudC5pZCkKICAgIGlmIG5vdCB0ZWFtX3Byb2ZpdDoKICAgICAgICB0ZWFtX3Byb2ZpdCA9IGdldF9zZWxmX3Byb2ZpdChhZ2VudCwgc3RhcnQsIGVuZCkKICAgICAgICBmb3IgY2hpbGQgaW4gZ2V0X2FsbF9jaGlsZHJlbihhZ2VudCk6CiAgICAgICAgICAgIHRlYW1fcHJvZml0ICs9IGdldF9zZWxmX3Byb2ZpdChjaGlsZCwgc3RhcnQsIGVuZCkKICAgICAgICBjYWNoZV90ZWFtX3Byb2ZpdChhZ2VudC5pZCwgdGVhbV9wcm9maXQpCiAgICByZXR1cm4gdGVhbV9wcm9maXQKCgpkZWYgZ2V0X2RpcmVjdF9jaGlsZHJlbihhZ2VudCk6CiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LnBhcmVudF9pZCA9PSBhZ2VudC5pZCkuYWxsKCkKCgpkZWYgZ2V0X2FsbF9jaGlsZHJlbihhZ2VudCk6CiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LmxlZnQgPiBhZ2VudC5sZWZ0KS5maWx0ZXIoQWdlbnQubGVmdCA8IGFnZW50LnJpZ2h0KS5hbGwoKQoKCmRlZiBnZXRfYWdlbnRfYnlfYWdlbnRfaWQoYWdlbnRfaWQpOgogICAgcmV0dXJuIEFnZW50LnF1ZXJ5LmZpbHRlcihBZ2VudC5pZCA9PSBhZ2VudF9pZCkuZmlyc3QoKQoKCmRlZiBnZXRfYWdlbnRfYnlfdXNlcl9pZCh1c2VyX2lkKToKICAgIHJldHVybiBBZ2VudC5xdWVyeS5maWx0ZXIoQWdlbnQudXNlcl9pZCA9PSB1c2VyX2lkKS5maXJzdCgpCgoKZGVmIGdldF9hZ2VudF9ieV91c2VybmFtZSh1c2VybmFtZSk6CiAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS5maWx0ZXIoQWNjb3VudC51c2VyX25hbWUgPT0gdXNlcm5hbWUpLmZpcnN0KCkKICAgIGlmIG5vdCBhY2NvdW50OgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LnVzZXJfaWQgPT0gYWNjb3VudC5pZCkuZmlyc3QoKQoKCmRlZiBnZXRfYWdlbnRzX2J5KHBhcmVudF9pZCwgbGV2ZWwsIHBhZ2UsIHNpemUpOgogICAgcXVlcnkgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KQogICAgaWYgcGFyZW50X2lkOgogICAgICAgIHBhcmVudCA9IGdldF9hZ2VudF9ieV9hZ2VudF9pZChwYXJlbnRfaWQpCiAgICAgICAgaWYgbm90IHBhcmVudDoKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdwYXJlbnQgPCVzPiBub3QgZm91bmQnICUgcGFyZW50X2lkKQogICAgICAgIHF1ZXJ5ID0gcXVlcnkuZmlsdGVyKEFnZW50LmxlZnQgPiBwYXJlbnQubGVmdCkuZmlsdGVyKEFnZW50LmxlZnQgPCBwYXJlbnQucmlnaHQpCiAgICBpZiBsZXZlbDoKICAgICAgICBxdWVyeSA9IHF1ZXJ5LmZpbHRlcihBZ2VudC5sZXZlbCA9PSBsZXZlbCkKICAgIHJldHVybiBxdWVyeS5wYWdpbmF0ZShwYWdlPXBhZ2UsIHBlcl9wYWdlPXNpemUpCgoKZGVmIGdldF9hZ2VudHModXNlcl9pZD1Ob25lLCB1c2VybmFtZT1Ob25lLCBhZ2VudF9pZD1Ob25lLCBwYXJlbnRfaWQ9Tm9uZSwgbGV2ZWw9Tm9uZSwgcGFnZT0xLCBzaXplPTUpOgogICAgaWYgdXNlcl9pZDoKICAgICAgICBhZ2VudCA9IGdldF9hZ2VudF9ieV91c2VyX2lkKHVzZXJfaWQpCiAgICAgICAgaWYgbm90IGFnZW50OgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgJ2xpc3QnOiBbXSwKICAgICAgICAgICAgICAgICd0b3RhbCc6IDAsCiAgICAgICAgICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgICAgICAgICAnc2l6ZSc6IHNpemUKICAgICAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdsaXN0JzogW2dldF9hZ2VudF9kZXRhaWwoYWdlbnQuaWQpXSwKICAgICAgICAgICAgJ3RvdGFsJzogMSwKICAgICAgICAgICAgJ3BhZ2UnOiBwYWdlLAogICAgICAgICAgICAnc2l6ZSc6IHNpemUKICAgICAgICB9CiAgICBpZiB1c2VybmFtZToKICAgICAgICBhZ2VudCA9IGdldF9hZ2VudF9ieV91c2VybmFtZSh1c2VybmFtZSkKICAgICAgICBpZiBub3QgYWdlbnQ6CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAnbGlzdCc6IFtdLAogICAgICAgICAgICAgICAgJ3RvdGFsJzogMCwKICAgICAgICAgICAgICAgICdwYWdlJzogcGFnZSwKICAgICAgICAgICAgICAgICdzaXplJzogc2l6ZQogICAgICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ2xpc3QnOiBbZ2V0X2FnZW50X2RldGFpbChhZ2VudC5pZCldLAogICAgICAgICAgICAndG90YWwnOiAxLAogICAgICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgICAgICdzaXplJzogc2l6ZQogICAgICAgIH0KICAgIGlmIGFnZW50X2lkOgogICAgICAgIGFnZW50ID0gZ2V0X2FnZW50X2J5X2FnZW50X2lkKGFnZW50X2lkKQogICAgICAgIGlmIG5vdCBhZ2VudDoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICdsaXN0JzogW10sCiAgICAgICAgICAgICAgICAndG90YWwnOiAwLAogICAgICAgICAgICAgICAgJ3BhZ2UnOiBwYWdlLAogICAgICAgICAgICAgICAgJ3NpemUnOiBzaXplCiAgICAgICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnbGlzdCc6IFtnZXRfYWdlbnRfZGV0YWlsKGFnZW50LmlkKV0sCiAgICAgICAgICAgICd0b3RhbCc6IDEsCiAgICAgICAgICAgICdwYWdlJzogcGFnZSwKICAgICAgICAgICAgJ3NpemUnOiBzaXplCiAgICAgICAgfQogICAgcGFnaW5hdGlvbl9vYmogPSBnZXRfYWdlbnRzX2J5KHBhcmVudF9pZCwgbGV2ZWwsIHBhZ2UsIHNpemUpCiAgICByZXN1bHQgPSBbXQogICAgZm9yIGl0ZW0gaW4gcGFnaW5hdGlvbl9vYmouaXRlbXM6CiAgICAgICAgcmVzdWx0LmFwcGVuZChnZXRfYWdlbnRfZGV0YWlsKGl0ZW0uaWQpKQogICAgcmV0dXJuIHsKICAgICAgICAnbGlzdCc6IHJlc3VsdCwKICAgICAgICAndG90YWwnOiBwYWdpbmF0aW9uX29iai50b3RhbCwKICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgJ3NpemUnOiBzaXplCiAgICB9CgoKZGVmIGFzc2lnbl9yZXR1cm5fcmF0ZShpc19yb290LCBzZW5kZXJfaWQsIHJlY2VpdmVyX2lkLCByZXR1cm5fcmF0ZV9saXN0KToKICAgIGlmIGlzX3Jvb3Q6CiAgICAgICAgZm9yIGl0ZW0gaW4gcmV0dXJuX3JhdGVfbGlzdDoKICAgICAgICAgICAgX2Fzc2lnbl9yb290X3JldHVybl9yYXRlKHJlY2VpdmVyX2lkLCBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpLCBpbnQoaXRlbS5nZXQoJ2NvdW50JykpKQogICAgZWxzZToKICAgICAgICBzZW5kZXIgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KS5maWx0ZXIoQWdlbnQuaWQgPT0gc2VuZGVyX2lkKS5maXJzdCgpCiAgICAgICAgcmVjZWl2ZXIgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KS5maWx0ZXIoQWdlbnQuaWQgPT0gcmVjZWl2ZXJfaWQpLmZpcnN0KCkKICAgICAgICBpZiBub3Qgc2VuZGVyOgogICAgICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3NlbmRlcl9pZCBpbnZhbGlkJykKICAgICAgICBpZiBub3QgcmVjZWl2ZXI6CiAgICAgICAgICAgIGFib3J0X2pzb24oNDAwLCAncmVjZWl2ZXJfaWQgaW52YWxpZCcpCiAgICAgICAgaWYgcmVjZWl2ZXIucGFyZW50X2lkICE9IHNlbmRlcl9pZDoKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdzZW5kZXIgaXMgbm90IHRoZSBkaXJlY3QgcGFyZW50IG9mIHJlY2VpdmVyJykKICAgICAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgICAgICBfYXNzaWduX25vcm1hbF9yZXR1cm5fcmF0ZShzZW5kZXJfaWQsIHJlY2VpdmVyX2lkLCBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpLCBpbnQoaXRlbS5nZXQoJ2NvdW50JykpKQoKCmRlZiBfYXNzaWduX3Jvb3RfcmV0dXJuX3JhdGUocmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlLCBjb3VudCk6CiAgICBpZiBub3QgaXNfcmV0dXJuX3JhdGVfdmFsaWQocmV0dXJuX3JhdGUpOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgaW52YWxpZCcpCiAgICBmb3IgXyBpbiByYW5nZShjb3VudCk6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtKCkKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLmFtb3VudCA9IHJldHVybl9yYXRlCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IHJlY2VpdmVyX2lkCiAgICAgICAgREIuc2Vzc2lvbi5hZGQocmV0dXJuX3JhdGVfaXRlbSkKCgpkZWYgX2Fzc2lnbl9ub3JtYWxfcmV0dXJuX3JhdGUoc2VuZGVyX2lkLCByZWNlaXZlcl9pZCwgcmV0dXJuX3JhdGUsIGNvdW50KToKICAgIHNlc3Npb24gPSBEQi5zZXNzaW9uKCkKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gc2VuZGVyX2lkKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLkFWQUlMQUJMRS52YWx1ZSkud2l0aF9mb3JfdXBkYXRlKCkubGltaXQoY291bnQpLmFsbCgpCiAgICBpZiBsZW4ocmV0dXJuX3JhdGVfaXRlbXMpIDwgY291bnQ6CiAgICAgICAgcmFpc2UgUmV0dXJuUmF0ZU5vdEVub3VnaCgpCiAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiByZXR1cm5fcmF0ZV9pdGVtczoKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gcmVjZWl2ZXJfaWQKCgpkZWYgYXNzaWduX3JldHVybl9yYXRlX2J5X2ludml0YXRpb24oc2VuZGVyX2lkLCByZWNlaXZlcl9pZCwgcmV0dXJuX3JhdGUsIGNvdW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gREIuc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gc2VuZGVyX2lkKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLlJFU0VSVkVELnZhbHVlKS53aXRoX2Zvcl91cGRhdGUoKS5saW1pdChjb3VudCkuYWxsKCkKICAgIGlmIGxlbihyZXR1cm5fcmF0ZV9pdGVtcykgPCBjb3VudDoKICAgICAgICByYWlzZSBSZXR1cm5SYXRlTm90RW5vdWdoKCdyZXR1cm4gcmF0ZSBub3QgZW5vdWdoJykKICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlcl9pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0uc3RhdHVzID0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUKCgpkZWYgZ2V0X3JldHVybl9yYXRlX2l0ZW1fZGV0YWlsKHJldHVybl9yYXRlX2l0ZW1faWQpOgogICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5pZCA9PSByZXR1cm5fcmF0ZV9pdGVtX2lkKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICBhYm9ydF9qc29uKDQwNCwgJ3JldHVybiByYXRlIGl0ZW0gbm90IGZvdW5kJykKICAgIHJldHVybiB7CiAgICAgICAgJ2lkJzogcmV0dXJuX3JhdGVfaXRlbS5pZCwKICAgICAgICAnYW1vdW50JzogZmxvYXQocmV0dXJuX3JhdGVfaXRlbS5hbW91bnQpLAogICAgICAgICdzdGF0dXMnOiByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cywKICAgICAgICAnb3duZXInOiByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkLAogICAgICAgICd1c2VyJzogcmV0dXJuX3JhdGVfaXRlbS51c2VyX2lkCiAgICB9CgoKZGVmIGdldF9hdmFpbGFibGVfcmV0dXJuX3JhdGVfaXRlbXMoYWdlbnQpOgogICAgcmVzdWx0ID0gW10KICAgIHJldHVybl9yYXRlX2l0ZW1zID0gUmV0dXJuUmF0ZUl0ZW0ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLkFWQUlMQUJMRS52YWx1ZSkuYWxsKCkKICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgIHJlc3VsdC5hcHBlbmQoZ2V0X3JldHVybl9yYXRlX2l0ZW1fZGV0YWlsKHJldHVybl9yYXRlX2l0ZW0uaWQpKQogICAgcmV0dXJuIHJlc3VsdAoKCmRlZiBnZXRfcmV0dXJuX3JhdGVfaXRlbXMoYWdlbnQpOgogICAgcmVzdWx0ID0gW10KICAgIHJldHVybl9yYXRlX2l0ZW1zID0gUmV0dXJuUmF0ZUl0ZW0ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLmFsbCgpCiAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiByZXR1cm5fcmF0ZV9pdGVtczoKICAgICAgICByZXN1bHQuYXBwZW5kKGdldF9yZXR1cm5fcmF0ZV9pdGVtX2RldGFpbChyZXR1cm5fcmF0ZV9pdGVtLmlkKSkKICAgIHJldHVybiByZXN1bHQKCgpkZWYgZ2V0X2RpcmVjdF9jaGlsZHJlbl9yZXR1cm5fcmF0ZV9pdGVtcyhhZ2VudCk6CiAgICBjaGlsZHJlbiA9IGdldF9kaXJlY3RfY2hpbGRyZW4oYWdlbnQpCiAgICByZXN1bHQgPSB7fQogICAgZm9yIGNoaWxkIGluIGNoaWxkcmVuOgogICAgICAgIGRpcmVjdF9yZXR1cm5fcmF0ZV9pdGVtcyA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBjaGlsZC5pZCkuYWxsKCkKICAgICAgICByZXR1cm5fcmF0ZV9saXN0ID0gW10KICAgICAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiBkaXJlY3RfcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgICAgIHJldHVybl9yYXRlX2xpc3QuYXBwZW5kKGdldF9yZXR1cm5fcmF0ZV9pdGVtX2RldGFpbChyZXR1cm5fcmF0ZV9pdGVtLmlkKSkKICAgICAgICByZXN1bHQudXBkYXRlKHtjaGlsZC5pZDogcmV0dXJuX3JhdGVfbGlzdH0pCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIGdldF9yZXR1cm5fcmF0ZV9pdGVtc19yZWN1cnNpdmVseShhZ2VudCk6CiAgICByZXN1bHQgPSBSZXR1cm5SYXRlSXRlbS5xdWVyeS5maWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLmFsbCgpCiAgICBjaGlsZHJlbiA9IGdldF9hbGxfY2hpbGRyZW4oYWdlbnQpCiAgICBmb3IgY2hpbGQgaW4gY2hpbGRyZW46CiAgICAgICAgcmVzdWx0ICs9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBjaGlsZC5pZCkuYWxsKCkKICAgIHJldHVybiByZXN1bHQKCgpkZWYgZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoYWdlbnRfaWQpOgogICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS51c2VyX2lkID09IGFnZW50X2lkKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICByZXR1cm4gTUlOX1JFVFVSTl9SQVRFCiAgICByZXR1cm4gZmxvYXQocmV0dXJuX3JhdGVfaXRlbS5hbW91bnQpCgoKZGVmIF9hcHBseV9yb290X3JldHVybl9yYXRlKHJlY2VpdmVyX2lkLCByZXR1cm5fcmF0ZSk6CiAgICBpZiByZXR1cm5fcmF0ZSA+IE1BWF9SRVRVUk5fUkFURSBvciByZXR1cm5fcmF0ZSA8IE1JTl9SRVRVUk5fUkFURToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybiByYXRlIGludmFsaWQsIGV4Y2VlZCBtYXggb3IgbWluJykKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBSZXR1cm5SYXRlSXRlbSgpCiAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gcmVjZWl2ZXJfaWQKICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyX2lkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cyA9IFJldHVyblJhdGVTdGF0dXMuSU5fVVNFLnZhbHVlCiAgICByZXR1cm5fcmF0ZV9pdGVtLmFtb3VudCA9IHJldHVybl9yYXRlCiAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBhcHBseV9yZXR1cm5fcmF0ZV9ieV9pbnZpdGF0aW9uKHNlbmRlciwgcmVjZWl2ZXIsIHJldHVybl9yYXRlKToKICAgIGlmIHJldHVybl9yYXRlID4gTUFYX1JFVFVSTl9SQVRFIG9yIHJldHVybl9yYXRlIDwgTUlOX1JFVFVSTl9SQVRFOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgaW52YWxpZCwgZXhjZWVkIG1heCBvciBtaW4nKQogICAgaWYgcmVjZWl2ZXIucGFyZW50X2lkICE9IHNlbmRlci5pZDoKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3NlbmRlciBpcyBub3QgdGhlIGRpcmVjdCBwYXJlbnQgb2YgcmVjZWl2ZXInKQogICAgaWYgcmV0dXJuX3JhdGUgPiBnZXRfYXBwbGllZF9yZXR1cm5fcmF0ZShzZW5kZXIuaWQpOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuX3JhdGUgPCVzPiBpbnZhbGlkLCBjYW4gbm90IGdyZWF0ZXIgdGhhbiBwYXJlbnQnKQogICAgaWYgcmV0dXJuX3JhdGUgPj0gTUFHSUNfUkVUVVJOX1JBVEU6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IERCLnNlc3Npb24ucXVlcnkoUmV0dXJuUmF0ZUl0ZW0pLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzZW5kZXIuaWQpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5SRVNFUlZFRC52YWx1ZSkud2l0aF9mb3JfdXBkYXRlKCkuZmlyc3QoKQogICAgICAgIGlmIG5vdCByZXR1cm5fcmF0ZV9pdGVtOgogICAgICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gbm90IGZvdW5kJyAlIHJldHVybl9yYXRlKQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlci5pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyLmlkCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgZWxzZToKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtID0gUmV0dXJuUmF0ZUl0ZW0oKQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlci5pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyLmlkCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0uYW1vdW50ID0gcmV0dXJuX3JhdGUKICAgICAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBfYXBwbHlfbm9ybWFsX3JldHVybl9yYXRlKHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKToKICAgIHJlY2VpdmVyID0gREIuc2Vzc2lvbi5xdWVyeShBZ2VudCkuZmlsdGVyKEFnZW50LmlkID09IHJlY2VpdmVyX2lkKS5maXJzdCgpCiAgICBpZiByZXR1cm5fcmF0ZSA+IE1BWF9SRVRVUk5fUkFURSBvciByZXR1cm5fcmF0ZSA8IE1JTl9SRVRVUk5fUkFURToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybiByYXRlIGludmFsaWQsIGV4Y2VlZCBtYXggb3IgbWluJykKICAgIGlmIHJlY2VpdmVyLnBhcmVudF9pZCAhPSBzZW5kZXJfaWQ6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdzZW5kZXIgaXMgbm90IHRoZSBkaXJlY3QgcGFyZW50IG9mIHJlY2VpdmVyJykKICAgIGlmIHJldHVybl9yYXRlID4gZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoc2VuZGVyX2lkKToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gaW52YWxpZCwgY2FuIG5vdCBncmVhdGVyIHRoYW4gcGFyZW50JykKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBEQi5zZXNzaW9uLnF1ZXJ5KFJldHVyblJhdGVJdGVtKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzZW5kZXJfaWQpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLmFtb3VudCA9PSByZXR1cm5fcmF0ZSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uc3RhdHVzID09IFJldHVyblJhdGVTdGF0dXMuQVZBSUxBQkxFLnZhbHVlKS53aXRoX2Zvcl91cGRhdGUoKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gbm90IGZvdW5kJyAlIHJldHVybl9yYXRlKQogICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IHJlY2VpdmVyLmlkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnVzZXJfaWQgPSByZWNlaXZlci5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgREIuc2Vzc2lvbi5jb21taXQoKQoKCmRlZiBhcHBseV9yZXR1cm5fcmF0ZV9pdGVtKGlzX3Jvb3QsIHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKToKICAgIGlmIGlzX3Jvb3Q6CiAgICAgICAgX2FwcGx5X3Jvb3RfcmV0dXJuX3JhdGUocmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKQogICAgZWxzZToKICAgICAgICBfYXBwbHlfbm9ybWFsX3JldHVybl9yYXRlKHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKQoKCmRlZiBfcmVjeWNsZV9yb290X3JldHVybl9yYXRlKGFnZW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gZ2V0X3JldHVybl9yYXRlX2l0ZW1zX3JlY3Vyc2l2ZWx5KGFnZW50KQogICAgZm9yIHJldHVybl9yYXRlX2l0ZW0gaW4gcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgREIuc2Vzc2lvbi5kZWxldGUocmV0dXJuX3JhdGVfaXRlbSkKICAgIERCLnNlc3Npb24uY29tbWl0KCkKCgpkZWYgX3JlY3ljbGVfbm9ybWFsX3JldHVybl9yYXRlKGFnZW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gZ2V0X3JldHVybl9yYXRlX2l0ZW1zX3JlY3Vyc2l2ZWx5KGFnZW50KQogICAgZm9yIHJldHVybl9yYXRlX2l0ZW0gaW4gcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IGFnZW50LnBhcmVudF9pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IE5vbmUKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cyA9IFJldHVyblJhdGVTdGF0dXMuQVZBSUxBQkxFLnZhbHVlCiAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCgoKZGVmIHJlY3ljbGVfcmV0dXJuX3JhdGVfYnlfYWdlbnQoYWdlbnQpOgogICAgaWYgYWdlbnQubGV2ZWwgPT0gMToKICAgICAgICBfcmVjeWNsZV9yb290X3JldHVybl9yYXRlKGFnZW50KQogICAgZWxzZToKICAgICAgICBfcmVjeWNsZV9ub3JtYWxfcmV0dXJuX3JhdGUoYWdlbnQpCgoKZGVmIGdldF9yZXR1cm5fYW1vdW50KGFnZW50X2lkKToKICAgIHJldHVybl9hbW91bnQgPSBnZXRfY2FjaGVkX3JldHVybl9hbW91bnQoYWdlbnRfaWQpCiAgICBpZiBub3QgcmV0dXJuX2Ftb3VudDoKICAgICAgICByZXR1cm5fYW1vdW50ID0gREIuc2Vzc2lvbi5xdWVyeShmdW5jLnN1bShBZ2VudFJldHVyblJlY29yZC5nYWluX2Ftb3VudCkpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoQWdlbnRSZXR1cm5SZWNvcmQuZ2Fpbl9hZ2VudF9pZCA9PSBhZ2VudF9pZCkuc2NhbGFyKCkgb3IgMAogICAgICAgIGNhY2hlX3JldHVybl9hbW91bnQoYWdlbnRfaWQsIHJldHVybl9hbW91bnQpCiAgICByZXR1cm4gcmV0dXJuX2Ftb3VudAoKCmRlZiBnZXRfaW52aXRhdGlvbl9ieV9jb2RlKGNvZGUpOgogICAgcmV0dXJuIEFnZW50SW52aXRhdGlvblJlY29yZC5xdWVyeS5maWx0ZXIoQWdlbnRJbnZpdGF0aW9uUmVjb3JkLmNvZGUgPT0gY29kZSkuZmlyc3QoKQoKCmRlZiBnZXRfcGVuZGluZ190cmFuc2Zlcl9yZWNvcmQocGFnZSwgc2l6ZSk6CiAgICByZXR1cm4gQWdlbnRUcmFuc2ZlclJlY29yZC5xdWVyeS4gXAogICAgICAgIGZpbHRlcihBZ2VudFRyYW5zZmVyUmVjb3JkLnN0YXR1cyA9PSBUcmFuc2ZlclN0YXR1cy5QRU5ESU5HLnZhbHVlKS4gXAogICAgICAgIHBhZ2luYXRlKHBhZ2U9cGFnZSwgcGVyX3BhZ2U9c2l6ZSkKCgpkZWYgZ2V0X2FnZW50X3RyYW5zYWN0aW9ucyhwYWdlLCBzaXplKToKICAgIHJldHVybiBUcmFuc2FjdGlvbi5xdWVyeS4gXAogICAgICAgIGZpbHRlcihvcl8oVHJhbnNhY3Rpb24udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQUdFTlRfUkVUVVJOLnZhbHVlLAogICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb24udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQUdFTlRfQk9OVVMudmFsdWUsCiAgICAgICAgICAgICAgICAgICBUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5BR0VOVF9UUkFOU0ZFUi52YWx1ZSwKICAgICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLlBMQVRGT1JNX1RSQU5TRkVSLnZhbHVlLAogICAgICAgICAgICAgICAgICAgKSkuIFwKICAgICAgICBwYWdpbmF0ZShwYWdlPXBhZ2UsIHBlcl9wYWdlPXNpemUpCgoKZGVmIGhhbmRsZV90cmFuc2Zlcih0cmFuc2Zlcl9pZCwgYXBwcm92ZSk6CiAgICB0cmFuc2ZlciA9IEFnZW50VHJhbnNmZXJSZWNvcmQucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoQWdlbnRUcmFuc2ZlclJlY29yZC5pZCA9PSB0cmFuc2Zlcl9pZCkuIFwKICAgICAgICBmaWx0ZXIoQWdlbnRUcmFuc2ZlclJlY29yZC5zdGF0dXMgPT0gVHJhbnNmZXJTdGF0dXMuUEVORElORy52YWx1ZSkuIFwKICAgICAgICBmaXJzdCgpCiAgICBpZiBub3QgdHJhbnNmZXI6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICd0cmFuc2Zlcl9pZCBpbnZhbGlkJykKCiAgICB0cnk6CiAgICAgICAgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbi5xdWVyeS5maWx0ZXIoVHJhbnNhY3Rpb24uaWQgPT0gdHJhbnNmZXIudHJhbnNhY3Rpb25faWQpLmZpcnN0KCkKICAgICAgICBpZiBub3QgdHJhbnNhY3Rpb246CiAgICAgICAgICAgIHJhaXNlIFRyYW5zYWN0aW9uTm90Rm91bmQoJ3RyYW5zYWN0aW9uIGlkIG5vdCBmb3VuZCBpbiB0cmFuc2ZlciByZWNvcmQ8JXM+JyAlIHRyYW5zZmVyX2lkKQogICAgICAgIGlmIGFwcHJvdmU6CiAgICAgICAgICAgIHRyYW5zZmVyLnN0YXR1cyA9IFRyYW5zZmVyU3RhdHVzLkFQUFJPVkVELnZhbHVlCiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnN0YXR1cyA9IFRyYW5zYWN0aW9uU3RhdHVzLkRPTkUudmFsdWUKICAgICAgICAgICAgYWNjb3VudCA9IEFjY291bnQucXVlcnkud2l0aF9mb3JfdXBkYXRlKCkuZmlsdGVyKEFjY291bnQuaWQgPT0gdHJhbnNmZXIucmVjZWl2ZXJfdXNlcl9pZCkub25lKCkKICAgICAgICAgICAgYWNjb3VudC5iYWxhbmNlICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LndpdGhkcmF3ICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LmFnZW50X2JhbGFuY2UgKz0gRGVjaW1hbCh0cmFuc2Zlci5hbW91bnQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJhbnNmZXIuc3RhdHVzID0gVHJhbnNmZXJTdGF0dXMuUkVKRUNURUQudmFsdWUKICAgICAgICAgICAgdHJhbnNhY3Rpb24uc3RhdHVzID0gVHJhbnNhY3Rpb25TdGF0dXMuRkFJTC52YWx1ZQogICAgICAgICAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS53aXRoX2Zvcl91cGRhdGUoKS5maWx0ZXIoQWNjb3VudC5pZCA9PSB0cmFuc2Zlci5zZW5kZXJfdXNlcl9pZCkub25lKCkKICAgICAgICAgICAgYWNjb3VudC5iYWxhbmNlICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LndpdGhkcmF3ICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LmFnZW50X2JhbGFuY2UgKz0gRGVjaW1hbCh0cmFuc2Zlci5hbW91bnQpCiAgICAgICAgREIuc2Vzc2lvbi5jb21taXQoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIEFQSV9MT0dHRVIuZXJyb3IoZSkKICAgICAgICBEQi5zZXNzaW9uLnJvbGxiYWNrKCkKICAgICAgICBhYm9ydF9qc29uKDUwMCwgJ2RhdGFiYXNlIG9wZXJhdGlvbiBlcnJvcicsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZmluYWxseToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkK</text>
      </register>
      <register name="-" type="4">
        <text>join_date</text>
      </register>
      <register name="/" type="4">
        <text encoding="base64">XDxmcmVzaF9yZWNoYXJnZV9yZXBvcnRcPg==</text>
      </register>
      <register name="0" type="4">
        <text>, autoincrement=True</text>
      </register>
      <register name="p" type="4">
        <text />
      </register>
      <register name="1" type="2">
        <text encoding="base64">CmRlZiBsb2dpbl91c2VyKGVtYWlsLCBwYXNzd29yZCk6CiAgICB1c2VyID0gQWRtaW5Vc2VyLnF1ZXJ5LmZpbHRlcihBZG1pblVzZXIuZW1haWwgPT0gZW1haWwpLmZpcnN0KCkKICAgIGlmIG5vdCB1c2VyOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnYWNjb3VudCBub3QgZm91bmQnKQogICAgaWYgZW5jb2RlX3Bhc3N3b3JkKHBhc3N3b3JkKSAhPSB1c2VyLnBhc3N3b3JkOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnaW52YWxpZCBwYXNzd29yZCcpCgogICAgdXNlcl90b2tlbiA9IEFkbWluVXNlclRva2VuKCkKICAgIHVzZXJfdG9rZW4udXNlcl9pZCA9IHVzZXIuaWQKICAgIHVzZXJfdG9rZW4udG9rZW4gPSB1dWlkLnV1aWQ0KCkKICAgIHVzZXJfdG9rZW4uZGVsZXRlZCA9IDAKICAgIERCLnNlc3Npb24uYWRkKHVzZXJfdG9rZW4pCiAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCgogICAgdXNlcl9pbmZvID0gdG9fZGljdCh1c2VyKQogICAgdXNlcl9pbmZvWyd0b2tlbiddID0gdXNlcl90b2tlbi50b2tlbgogICAgdXNlcl9pbmZvLnBvcCgncGFzc3dvcmQnKQogICAgcmV0dXJuIHVzZXJfaW5mbwoKCmRlZiBsb2dvdXRfdXNlcih1c2VyX2lkLCB0b2tlbik6CiAgICB1c2VyX3Rva2VuID0gQWRtaW5Vc2VyVG9rZW4ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoQWRtaW5Vc2VyVG9rZW4udXNlcl9pZCA9PSB1c2VyX2lkKS4gXAogICAgICAgIGZpbHRlcihBZG1pblVzZXJUb2tlbi50b2tlbiA9PSB0b2tlbikuZmlyc3QoKQogICAgaWYgbm90IHVzZXJfdG9rZW46CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdpbnZhbGlkIHVzZXJfaWQgb3IgdG9rZW4nKQogICAgdXNlcl90b2tlbi5kZWxldGVkID0gMQogICAgREIuc2Vzc2lvbi5jb21taXQoKQoKCmRlZiBnZXRfYWRtaW5fdXNlcih1c2VyX2lkKToKICAgIHJldHVybiBBZG1pblVzZXIucXVlcnkuZmlsdGVyKEFkbWluVXNlci5pZCA9PSB1c2VyX2lkKS5maXJzdCgpCgoKZGVmIGNyZWF0ZV9hZ2VudF9ieV9pbnZpdGF0aW9uKHVzZXJuYW1lLCBwYXNzd29yZCwgc3VwZXJpb3JfaWQsIGludml0YXRpb25fcmVjb3JkKToKICAgIHNlc3Npb24gPSBEQi5zZXNzaW9uKCkKICAgIHRyeToKICAgICAgICBhY2NvdW50ID0gQWNjb3VudCgpCiAgICAgICAgYWNjb3VudC51c2VyX25hbWUgPSB1c2VybmFtZQogICAgICAgIGFjY291bnQuc2V0X3Bhc3N3b3JkKHBhc3N3b3JkKQogICAgICAgIHNlc3Npb24uYWRkKGFjY291bnQpCgogICAgICAgIHNlc3Npb24uZmx1c2goKQoKICAgICAgICBhZ2VudCA9IEFnZW50KCkKICAgICAgICBhZ2VudC51c2VyX2lkID0gYWNjb3VudC5pZAogICAgICAgIGFnZW50LnBhcmVudF9pZCA9IHN1cGVyaW9yX2lkCiAgICAgICAgc2Vzc2lvbi5hZGQoYWdlbnQpCiAgICAgICAgc2Vzc2lvbi5mbHVzaCgpCgogICAgICAgIHBhcmVudCA9IGdldF9hZ2VudF9ieV9hZ2VudF9pZChzdXBlcmlvcl9pZCkKCiAgICAgICAgaWYgaW52aXRhdGlvbl9yZWNvcmQudHlwZSA9PSBJbnZpdGF0aW9uVHlwZS5PTkVfVElNRS52YWx1ZToKICAgICAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQuc3RhdHVzID0gSW52aXRhdGlvblN0YXR1cy5OT1RfQVZBSUxBQkxFLnZhbHVlCiAgICAgICAgICAgIGludml0YXRpb25fcmVjb3JkLnJlY2VpdmVyX2FnZW50X2lkX2xpc3QgPSBqc29uLmR1bXBzKFthZ2VudC5pZF0pCiAgICAgICAgICAgIGFwcGx5X3JldHVybl9yYXRlX2J5X2ludml0YXRpb24ocGFyZW50LCBhZ2VudCwgZmxvYXQoaW52aXRhdGlvbl9yZWNvcmQucmV0dXJuX3JhdGUpKQogICAgICAgICAgICByZXR1cm5fcmF0ZV9saXN0ID0ganNvbi5sb2FkcyhpbnZpdGF0aW9uX3JlY29yZC5yZXR1cm5fcmF0ZV9saXN0KQogICAgICAgICAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgICAgICAgICAgYXNzaWduX3JldHVybl9yYXRlX2J5X2ludml0YXRpb24ocGFyZW50LmlkLCBhZ2VudC5pZCwgZmxvYXQoaXRlbS5nZXQoJ2Ftb3VudCcpKSwgaW50KGl0ZW0uZ2V0KCdjb3VudCcpKSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiBpbnZpdGF0aW9uX3JlY29yZC5yZWNlaXZlcl9hZ2VudF9pZF9saXN0OgogICAgICAgICAgICAgICAgaWRfbGlzdCA9IGpzb24ubG9hZHMoaW52aXRhdGlvbl9yZWNvcmQucmVjZWl2ZXJfYWdlbnRfaWRfbGlzdCkKICAgICAgICAgICAgICAgIGlkX2xpc3QuYXBwZW5kKGFnZW50LmlkKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWRfbGlzdCA9IFthZ2VudC5pZF0KICAgICAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQucmVjZWl2ZXJfYWdlbnRfaWRfbGlzdCA9IGpzb24uZHVtcHMoaWRfbGlzdCkKICAgICAgICAgICAgYXBwbHlfcmV0dXJuX3JhdGVfYnlfaW52aXRhdGlvbihwYXJlbnQsIGFnZW50LCBmbG9hdChpbnZpdGF0aW9uX3JlY29yZC5yZXR1cm5fcmF0ZSkpCiAgICAgICAgaW52aXRhdGlvbl9yZWNvcmQudXBkYXRlZF9hdCA9IGRhdGV0aW1lLmRhdGV0aW1lLm5vdygpCiAgICAgICAgc2Vzc2lvbi5jb21taXQoKQogICAgICAgIHJldHVybiBhZ2VudC5pZAogICAgZXhjZXB0IFJldHVyblJhdGVOb3RFbm91Z2ggYXMgZToKICAgICAgICB0cmFjZWJhY2sucHJpbnRfdGIoZS5fX3RyYWNlYmFja19fKQogICAgICAgIHNlc3Npb24ucm9sbGJhY2soKQogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgbm90IGVub3VnaCcsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHRyYWNlYmFjay5wcmludF90YihlLl9fdHJhY2ViYWNrX18pCiAgICAgICAgc2Vzc2lvbi5yb2xsYmFjaygpCiAgICAgICAgYWJvcnRfanNvbig0MDAsICdkdXBsaWNhdGUgdXNlcicsIEVycm9yQ29kZS5EVVBMSUNBVEVEX1VTRVIudmFsdWUsIGUpCiAgICBmaW5hbGx5OgogICAgICAgIHNlc3Npb24uY2xvc2UoKQoKCmRlZiBpc19yZXR1cm5fcmF0ZV92YWxpZChyZXR1cm5fcmF0ZSk6CiAgICBpZiBNSU5fUkVUVVJOX1JBVEUgPD0gcmV0dXJuX3JhdGUgPD0gTUFYX1JFVFVSTl9SQVRFOgogICAgICAgIHJldHVybiBUcnVlCgoKZGVmIF9jcmVhdGVfcm9vdF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIGJvbnVzX3JhdGUsIHJldHVybl9yYXRlLCByZXR1cm5fcmF0ZV9saXN0KToKICAgICMgY3JlYXRlIGFjY291bnQKICAgIGFjY291bnQgPSBBY2NvdW50KCkKICAgIGFjY291bnQudXNlcl9uYW1lID0gdXNlcm5hbWUKICAgIGFjY291bnQuc2V0X3Bhc3N3b3JkKHBhc3N3b3JkKQogICAgREIuc2Vzc2lvbi5hZGQoYWNjb3VudCkKICAgIERCLnNlc3Npb24uZmx1c2goKQoKICAgICMgY3JlYXRlIGFnZW50CiAgICBhZ2VudCA9IEFnZW50KCkKICAgIGFnZW50LnVzZXJfaWQgPSBhY2NvdW50LmlkCiAgICBhZ2VudC5ib251c19yYXRlID0gYm9udXNfcmF0ZQogICAgREIuc2Vzc2lvbi5hZGQoYWdlbnQpCiAgICBEQi5zZXNzaW9uLmZsdXNoKCkKCiAgICAjIGFwcGx5IHJldHVybiByYXRlCiAgICByZXR1cm5fcmF0ZV9pdGVtID0gUmV0dXJuUmF0ZUl0ZW0oKQogICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IGFnZW50LmlkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnVzZXJfaWQgPSBhZ2VudC5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgcmV0dXJuX3JhdGVfaXRlbS5hbW91bnQgPSByZXR1cm5fcmF0ZQogICAgREIuc2Vzc2lvbi5hZGQocmV0dXJuX3JhdGVfaXRlbSkKCiAgICAjIGFzc2lnbiByZXR1cm4gcmF0ZSBsaXN0CiAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgIGlmIG5vdCBpc19yZXR1cm5fcmF0ZV92YWxpZChmbG9hdChpdGVtLmdldCgnYW1vdW50JykpKToKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdyZXR1cm4gcmF0ZSBpbnZhbGlkJykKICAgICAgICBmb3IgXyBpbiByYW5nZShpbnQoaXRlbS5nZXQoJ2NvdW50JykpKToKICAgICAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtKCkKICAgICAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5hbW91bnQgPSBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpCiAgICAgICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSBhZ2VudC5pZAogICAgICAgICAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBfY3JlYXRlX25vcm1hbF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIHN1cGVyaW9yX2lkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCk6CiAgICAjIGNyZWF0ZSBhY2NvdW50CiAgICBzZXNzaW9uID0gREIuc2Vzc2lvbigpCiAgICBhY2NvdW50ID0gQWNjb3VudCgpCiAgICBhY2NvdW50LnVzZXJfbmFtZSA9IHVzZXJuYW1lCiAgICBhY2NvdW50LnNldF9wYXNzd29yZChwYXNzd29yZCkKICAgIHNlc3Npb24uYWRkKGFjY291bnQpCiAgICBzZXNzaW9uLmZsdXNoKCkKCiAgICAjIGNyZWF0ZSBhZ2VudAogICAgYWdlbnQgPSBBZ2VudCgpCiAgICBhZ2VudC51c2VyX2lkID0gYWNjb3VudC5pZAogICAgYWdlbnQucGFyZW50X2lkID0gc3VwZXJpb3JfaWQKICAgIGFnZW50LmJvbnVzX3JhdGUgPSBib251c19yYXRlCiAgICBzZXNzaW9uLmFkZChhZ2VudCkKICAgIERCLnNlc3Npb24uZmx1c2goKQoKICAgICMgYXBwbHkgcmV0dXJuIHJhdGUKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBEQi5zZXNzaW9uLnF1ZXJ5KFJldHVyblJhdGVJdGVtKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzdXBlcmlvcl9pZCkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uYW1vdW50ID09IHJldHVybl9yYXRlKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUpLndpdGhfZm9yX3VwZGF0ZSgpLmZpcnN0KCkKICAgIGlmIG5vdCByZXR1cm5fcmF0ZV9pdGVtOgogICAgICAgIHJhaXNlIFJldHVyblJhdGVJbnZhbGlkKCkKICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSBhZ2VudC5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS51c2VyX2lkID0gYWdlbnQuaWQKICAgIHJldHVybl9yYXRlX2l0ZW0uc3RhdHVzID0gUmV0dXJuUmF0ZVN0YXR1cy5JTl9VU0UudmFsdWUKCiAgICAjIGFzc2lnbiByZXR1cm4gcmF0ZSBsaXN0CiAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgIHJldHVybl9yYXRlX2l0ZW1zID0gc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLm93bmVyX2lkID09IHN1cGVyaW9yX2lkKS4gXAogICAgICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uYW1vdW50ID09IGZsb2F0KGl0ZW0uZ2V0KCdhbW91bnQnKSkpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUpLiBcCiAgICAgICAgICAgIHdpdGhfZm9yX3VwZGF0ZSgpLmxpbWl0KGludChpdGVtLmdldCgnY291bnQnKSkpLmFsbCgpCiAgICAgICAgaWYgbGVuKHJldHVybl9yYXRlX2l0ZW1zKSA8IGludChpdGVtLmdldCgnY291bnQnKSk6CiAgICAgICAgICAgIHJhaXNlIFJldHVyblJhdGVOb3RFbm91Z2goKQogICAgICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gYWdlbnQuaWQKCgpkZWYgY3JlYXRlX2FnZW50X2J5X2FkbWluKHVzZXJuYW1lLCBwYXNzd29yZCwgaXNfcm9vdCwgc3VwZXJpb3JfaWQsIGJvbnVzX3JhdGUsIHJldHVybl9yYXRlLCByZXR1cm5fcmF0ZV9saXN0KToKICAgIHRyeToKICAgICAgICBpZiBpc19yb290OgogICAgICAgICAgICBfY3JlYXRlX3Jvb3RfYWdlbnQodXNlcm5hbWUsIHBhc3N3b3JkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBfY3JlYXRlX25vcm1hbF9hZ2VudCh1c2VybmFtZSwgcGFzc3dvcmQsIHN1cGVyaW9yX2lkLCBib251c19yYXRlLCByZXR1cm5fcmF0ZSwgcmV0dXJuX3JhdGVfbGlzdCkKICAgICAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgQVBJX0xPR0dFUi5lcnJvcihlKQogICAgICAgIERCLnNlc3Npb24ucm9sbGJhY2soKQogICAgICAgIGFib3J0X2pzb24oNDAwLCAnY3JlYXRlIGFnZW50IGZhaWxlZCcsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZmluYWxseToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkKCgpkZWYgdXBkYXRlX2JvbnVzX3JhdGUoYWdlbnQsIGJvbnVzX3JhdGUpOgogICAgYWdlbnQuYm9udXNfcmF0ZSA9IGJvbnVzX3JhdGUKICAgIERCLnNlc3Npb24uY29tbWl0KCkKCgpkZWYgZ2V0X2FnZW50X2RldGFpbChhZ2VudF9pZCk6CiAgICBhZ2VudCA9IEFnZW50LnF1ZXJ5LmZpbHRlcihBZ2VudC5pZCA9PSBhZ2VudF9pZCkuZmlyc3QoKQogICAgaWYgbm90IGFnZW50OgogICAgICAgIGFib3J0X2pzb24oNDAwLCAnYWdlbnRfaWQgPCVzPiBpbnZhbGlkJyAlIGFnZW50X2lkKQogICAgYWNjb3VudCA9IEFjY291bnQucXVlcnkuZmlsdGVyKEFjY291bnQuaWQgPT0gYWdlbnQudXNlcl9pZCkuZmlyc3QoKQogICAgaWYgbm90IGFjY291bnQ6CiAgICAgICAgYWJvcnRfanNvbig1MDAsICdhZ2VudCBkYXRhIGNvcnJ1cHQsIG5vIGNvcnJlc3BvbmRpbmcgYWNjb3VudCBmb3VuZCBmb3IgYWdlbnQgPCVzPicgJSBhZ2VudC5pZCkKICAgIHJldHVybiB7CiAgICAgICAgJ3VzZXJfaWQnOiBpbnQoYWNjb3VudC5pZCksCiAgICAgICAgJ2FnZW50X2lkJzogaW50KGFnZW50LmlkKSwKICAgICAgICAndXNlcm5hbWUnOiBhY2NvdW50LnVzZXJfbmFtZSwKICAgICAgICAnYmFsYW5jZSc6IGZsb2F0KGFjY291bnQuYmFsYW5jZSksCiAgICAgICAgJ2JvbnVzX3JhdGUnOiBmbG9hdChhZ2VudC5ib251c19yYXRlKSBpZiBhZ2VudC5ib251c19yYXRlIGVsc2UgMCwKICAgICAgICAnbGV2ZWwnOiBpbnQoYWdlbnQubGV2ZWwpLAogICAgICAgICdwYXJlbnRfaWQnOiBpbnQoYWdlbnQucGFyZW50X2lkKSBpZiBhZ2VudC5wYXJlbnRfaWQgZWxzZSBOb25lLAogICAgICAgICdyZXR1cm5fcmF0ZSc6IGdldF9hcHBsaWVkX3JldHVybl9yYXRlKGFnZW50LmlkKSwKICAgICAgICAnam9pbl9kYXRlJzogYWdlbnQuam9pbl9kYXRlLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpLAogICAgfQoKCmRlZiBnZXRfYWdlbnRfc3RhdHMoYWdlbnRfaWQpOgogICAgYWJvcnRfanNvbig0MDAsIHUn57uf6K6h5pWw5o2u5o6l5Y+j6ZyA6KaB5LyY5YyW77yM5pqC5LiN5Y+v55SoJykKICAgIGFnZW50ID0gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LmlkID09IGFnZW50X2lkKS5maXJzdCgpCiAgICBpZiBub3QgYWdlbnQ6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdhZ2VudF9pZCA8JXM+IGludmFsaWQnICUgYWdlbnRfaWQpCiAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS5maWx0ZXIoQWNjb3VudC5pZCA9PSBhZ2VudC51c2VyX2lkKS5maXJzdCgpCiAgICBpZiBub3QgYWNjb3VudDoKICAgICAgICBhYm9ydF9qc29uKDUwMCwgJ2FnZW50IGRhdGEgY29ycnVwdCwgbm8gY29ycmVzcG9uZGluZyBhY2NvdW50IGZvdW5kJykKICAgICMgcmV0dXJuX2Ftb3VudCA9IGZsb2F0KGdldF9yZXR1cm5fYW1vdW50KGFnZW50LmlkKSkKICAgIHJldHVybl9hbW91bnQgPSAwCiAgICBiZXRfYW1vdW50ID0gZ2V0X2JldF9hbW91bnQoYWdlbnQpCiAgICB3aW5fYW1vdW50ID0gZ2V0X3dpbl9hbW91bnQoYWdlbnQpCiAgICByZXR1cm4gewogICAgICAgICd1c2VyX2lkJzogaW50KGFjY291bnQuaWQpLAogICAgICAgICdhZ2VudF9pZCc6IGludChhZ2VudC5pZCksCiAgICAgICAgJ3VzZXJuYW1lJzogYWNjb3VudC51c2VyX25hbWUsCiAgICAgICAgJ2JhbGFuY2UnOiBmbG9hdChhY2NvdW50LmJhbGFuY2UpLAogICAgICAgICdib251c19yYXRlJzogZmxvYXQoYWdlbnQuYm9udXNfcmF0ZSksCiAgICAgICAgIyAnbW9udGhfYm9udXMnOiBnZXRfbW9udGhfYm9udXMoYWdlbnQpLAogICAgICAgICdtb250aF9ib251cyc6IDAsCiAgICAgICAgJ3JlY2hhcmdlX2Ftb3VudCc6IGdldF9yZWNoYXJnZV9hbW91bnQoYWdlbnQpLAogICAgICAgICd3aXRoZHJhd19hbW91bnQnOiBnZXRfd2l0aGRyYXdfYW1vdW50KGFnZW50KSwKICAgICAgICAnYmV0X2Ftb3VudCc6IGJldF9hbW91bnQsCiAgICAgICAgJ3dpbl9hbW91bnQnOiB3aW5fYW1vdW50LAogICAgICAgICdzZWxmX3Byb2ZpdCc6IHJldHVybl9hbW91bnQgKyB3aW5fYW1vdW50IC0gYmV0X2Ftb3VudCwKICAgICAgICAnY2FtcGFpZ25fYXdhcmQnOiAwLAogICAgICAgICdsZXZlbCc6IGludChhZ2VudC5sZXZlbCksCiAgICAgICAgJ3BhcmVudF9pZCc6IGludChhZ2VudC5wYXJlbnRfaWQpIGlmIGFnZW50LnBhcmVudF9pZCBlbHNlIE5vbmUsCiAgICAgICAgJ3JldHVybl9yYXRlJzogZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoYWdlbnQuaWQpLAogICAgICAgICdyZXR1cm5fYW1vdW50JzogcmV0dXJuX2Ftb3VudCwKICAgICAgICAnam9pbl9kYXRlJzogYWdlbnQuam9pbl9kYXRlLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIpLAogICAgfQoKCmRlZiBnZXRfcmVjaGFyZ2VfYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKICAgIHJlY2hhcmdlID0gdXNlcl9zdGF0cy5nZXQoJ3JlY2hhcmdlJykKICAgIGlmIG5vdCByZWNoYXJnZToKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIHJlY2hhcmdlLmdldCgndG90YWwnKQoKCmRlZiBnZXRfd2l0aGRyYXdfYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKICAgIHdpdGhkcmF3ID0gdXNlcl9zdGF0cy5nZXQoJ3dpdGhkcmF3JykKICAgIGlmIG5vdCB3aXRoZHJhdzoKICAgICAgICByZXR1cm4gMAogICAgcmV0dXJuIHdpdGhkcmF3LmdldCgndG90YWwnKQoKCmRlZiBnZXRfYmV0X2Ftb3VudChhZ2VudCk6CiAgICB1c2VyX3N0YXRzID0gTW9uZ29CaWdiYW5nLmRiLnVzZXJfc3RhdHMuZmluZF9vbmUoeydfaWQnOiBhZ2VudC51c2VyX2lkfSkKICAgIGlmIG5vdCB1c2VyX3N0YXRzOgogICAgICAgIHJldHVybiAwCiAgICBwYXkgPSB1c2VyX3N0YXRzLmdldCgncGF5JykKICAgIGlmIG5vdCBwYXk6CiAgICAgICAgcmV0dXJuIDAKICAgIHJldHVybiBwYXkuZ2V0KCd0b3RhbCcpCgoKZGVmIGdldF93aW5fYW1vdW50KGFnZW50KToKICAgIHVzZXJfc3RhdHMgPSBNb25nb0JpZ2JhbmcuZGIudXNlcl9zdGF0cy5maW5kX29uZSh7J19pZCc6IGFnZW50LnVzZXJfaWR9KQogICAgaWYgbm90IHVzZXJfc3RhdHM6CiAgICAgICAgcmV0dXJuIDAKCiAgICB3aW4gPSB1c2VyX3N0YXRzLmdldCgnd2luJykKICAgIGlmIG5vdCB3aW46CiAgICAgICAgd2luX2Ftb3VudCA9IDAKICAgIGVsc2U6CiAgICAgICAgd2luX2Ftb3VudCA9IHdpbi5nZXQoJ3RvdGFsJykKCiAgICBib251cyA9IHVzZXJfc3RhdHMuZ2V0KCdib251cycpCiAgICBpZiBub3QgYm9udXM6CiAgICAgICAgYm9udXNfYW1vdW50ID0gMAogICAgZWxzZToKICAgICAgICBib251c19hbW91bnQgPSBib251cy5nZXQoJ3RvdGFsJykKCiAgICByZXR1cm4gd2luX2Ftb3VudCArIGJvbnVzX2Ftb3VudAoKCmRlZiBnZXRfbW9udGhfYm9udXMoYWdlbnQpOgogICAgc3RhcnQgPSBkYXRldGltZS5kYXRldGltZS50b2RheSgpLnJlcGxhY2UoZGF5PTEpCiAgICBlbmQgPSBkYXRldGltZS5kYXRldGltZS5ub3coKQogICAgcmV0dXJuIGdldF90ZWFtX3Byb2ZpdChhZ2VudCwgc3RhcnQsIGVuZCkgKiBmbG9hdChhZ2VudC5ib251c19yYXRlKQoKCmRlZiBnZXRfc2VsZl9wcm9maXQoYWdlbnQsIHN0YXJ0LCBlbmQpOgogICAgYmV0X2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXNlcl9pZCA9PSBhZ2VudC51c2VyX2lkKS4gXAogICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXBkYXRlZF9hdCA+PSBzdGFydCkuIFwKICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5CQUxBTkNFX0JVWS52YWx1ZSkuIFwKICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnRpdGxlID09IHUn6LSt5b2pJykuc2NhbGFyKCkgb3IgMAogICAgcmV0dXJuX2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXNlcl9pZCA9PSBhZ2VudC51c2VyX2lkKS4gXAogICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoVHJhbnNhY3Rpb24udXBkYXRlZF9hdCA+PSBzdGFydCkuIFwKICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5BR0VOVF9SRVRVUk4udmFsdWUpLnNjYWxhcigpIG9yIDAKICAgIGF3YXJkX2Ftb3VudCA9IERCLnNlc3Npb24ucXVlcnkoZnVuYy5zdW0oVHJhbnNhY3Rpb24ucHJpY2UpKS4gXAogICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcihUcmFuc2FjdGlvbi51c2VyX2lkID09IGFnZW50LnVzZXJfaWQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPj0gc3RhcnQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnVwZGF0ZWRfYXQgPCBlbmQpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyKFRyYW5zYWN0aW9uLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLkFXQVJELnZhbHVlKS5zY2FsYXIoKSBvciAwCiAgICByZXR1cm4gYWJzKGZsb2F0KGF3YXJkX2Ftb3VudCkpICsgYWJzKGZsb2F0KHJldHVybl9hbW91bnQpKSAtIGFicyhmbG9hdChiZXRfYW1vdW50KSkKCgpkZWYgZ2V0X3RlYW1fcHJvZml0KGFnZW50LCBzdGFydCwgZW5kKToKICAgIHRlYW1fcHJvZml0ID0gZ2V0X2NhY2hlZF90ZWFtX3Byb2ZpdChhZ2VudC5pZCkKICAgIGlmIG5vdCB0ZWFtX3Byb2ZpdDoKICAgICAgICB0ZWFtX3Byb2ZpdCA9IGdldF9zZWxmX3Byb2ZpdChhZ2VudCwgc3RhcnQsIGVuZCkKICAgICAgICBmb3IgY2hpbGQgaW4gZ2V0X2FsbF9jaGlsZHJlbihhZ2VudCk6CiAgICAgICAgICAgIHRlYW1fcHJvZml0ICs9IGdldF9zZWxmX3Byb2ZpdChjaGlsZCwgc3RhcnQsIGVuZCkKICAgICAgICBjYWNoZV90ZWFtX3Byb2ZpdChhZ2VudC5pZCwgdGVhbV9wcm9maXQpCiAgICByZXR1cm4gdGVhbV9wcm9maXQKCgpkZWYgZ2V0X2RpcmVjdF9jaGlsZHJlbihhZ2VudCk6CiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LnBhcmVudF9pZCA9PSBhZ2VudC5pZCkuYWxsKCkKCgpkZWYgZ2V0X2FsbF9jaGlsZHJlbihhZ2VudCk6CiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LmxlZnQgPiBhZ2VudC5sZWZ0KS5maWx0ZXIoQWdlbnQubGVmdCA8IGFnZW50LnJpZ2h0KS5hbGwoKQoKCmRlZiBnZXRfYWdlbnRfYnlfYWdlbnRfaWQoYWdlbnRfaWQpOgogICAgcmV0dXJuIEFnZW50LnF1ZXJ5LmZpbHRlcihBZ2VudC5pZCA9PSBhZ2VudF9pZCkuZmlyc3QoKQoKCmRlZiBnZXRfYWdlbnRfYnlfdXNlcl9pZCh1c2VyX2lkKToKICAgIHJldHVybiBBZ2VudC5xdWVyeS5maWx0ZXIoQWdlbnQudXNlcl9pZCA9PSB1c2VyX2lkKS5maXJzdCgpCgoKZGVmIGdldF9hZ2VudF9ieV91c2VybmFtZSh1c2VybmFtZSk6CiAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS5maWx0ZXIoQWNjb3VudC51c2VyX25hbWUgPT0gdXNlcm5hbWUpLmZpcnN0KCkKICAgIGlmIG5vdCBhY2NvdW50OgogICAgICAgIHJldHVybiBOb25lCiAgICByZXR1cm4gQWdlbnQucXVlcnkuZmlsdGVyKEFnZW50LnVzZXJfaWQgPT0gYWNjb3VudC5pZCkuZmlyc3QoKQoKCmRlZiBnZXRfYWdlbnRzX2J5KHBhcmVudF9pZCwgbGV2ZWwsIHBhZ2UsIHNpemUpOgogICAgcXVlcnkgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KQogICAgaWYgcGFyZW50X2lkOgogICAgICAgIHBhcmVudCA9IGdldF9hZ2VudF9ieV9hZ2VudF9pZChwYXJlbnRfaWQpCiAgICAgICAgaWYgbm90IHBhcmVudDoKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdwYXJlbnQgPCVzPiBub3QgZm91bmQnICUgcGFyZW50X2lkKQogICAgICAgIHF1ZXJ5ID0gcXVlcnkuZmlsdGVyKEFnZW50LmxlZnQgPiBwYXJlbnQubGVmdCkuZmlsdGVyKEFnZW50LmxlZnQgPCBwYXJlbnQucmlnaHQpCiAgICBpZiBsZXZlbDoKICAgICAgICBxdWVyeSA9IHF1ZXJ5LmZpbHRlcihBZ2VudC5sZXZlbCA9PSBsZXZlbCkKICAgIHJldHVybiBxdWVyeS5wYWdpbmF0ZShwYWdlPXBhZ2UsIHBlcl9wYWdlPXNpemUpCgoKZGVmIGdldF9hZ2VudHModXNlcl9pZD1Ob25lLCB1c2VybmFtZT1Ob25lLCBhZ2VudF9pZD1Ob25lLCBwYXJlbnRfaWQ9Tm9uZSwgbGV2ZWw9Tm9uZSwgcGFnZT0xLCBzaXplPTUpOgogICAgaWYgdXNlcl9pZDoKICAgICAgICBhZ2VudCA9IGdldF9hZ2VudF9ieV91c2VyX2lkKHVzZXJfaWQpCiAgICAgICAgaWYgbm90IGFnZW50OgogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgJ2xpc3QnOiBbXSwKICAgICAgICAgICAgICAgICd0b3RhbCc6IDAsCiAgICAgICAgICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgICAgICAgICAnc2l6ZSc6IHNpemUKICAgICAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdsaXN0JzogW2dldF9hZ2VudF9kZXRhaWwoYWdlbnQuaWQpXSwKICAgICAgICAgICAgJ3RvdGFsJzogMSwKICAgICAgICAgICAgJ3BhZ2UnOiBwYWdlLAogICAgICAgICAgICAnc2l6ZSc6IHNpemUKICAgICAgICB9CiAgICBpZiB1c2VybmFtZToKICAgICAgICBhZ2VudCA9IGdldF9hZ2VudF9ieV91c2VybmFtZSh1c2VybmFtZSkKICAgICAgICBpZiBub3QgYWdlbnQ6CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAnbGlzdCc6IFtdLAogICAgICAgICAgICAgICAgJ3RvdGFsJzogMCwKICAgICAgICAgICAgICAgICdwYWdlJzogcGFnZSwKICAgICAgICAgICAgICAgICdzaXplJzogc2l6ZQogICAgICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ2xpc3QnOiBbZ2V0X2FnZW50X2RldGFpbChhZ2VudC5pZCldLAogICAgICAgICAgICAndG90YWwnOiAxLAogICAgICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgICAgICdzaXplJzogc2l6ZQogICAgICAgIH0KICAgIGlmIGFnZW50X2lkOgogICAgICAgIGFnZW50ID0gZ2V0X2FnZW50X2J5X2FnZW50X2lkKGFnZW50X2lkKQogICAgICAgIGlmIG5vdCBhZ2VudDoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICdsaXN0JzogW10sCiAgICAgICAgICAgICAgICAndG90YWwnOiAwLAogICAgICAgICAgICAgICAgJ3BhZ2UnOiBwYWdlLAogICAgICAgICAgICAgICAgJ3NpemUnOiBzaXplCiAgICAgICAgICAgIH0KICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnbGlzdCc6IFtnZXRfYWdlbnRfZGV0YWlsKGFnZW50LmlkKV0sCiAgICAgICAgICAgICd0b3RhbCc6IDEsCiAgICAgICAgICAgICdwYWdlJzogcGFnZSwKICAgICAgICAgICAgJ3NpemUnOiBzaXplCiAgICAgICAgfQogICAgcGFnaW5hdGlvbl9vYmogPSBnZXRfYWdlbnRzX2J5KHBhcmVudF9pZCwgbGV2ZWwsIHBhZ2UsIHNpemUpCiAgICByZXN1bHQgPSBbXQogICAgZm9yIGl0ZW0gaW4gcGFnaW5hdGlvbl9vYmouaXRlbXM6CiAgICAgICAgcmVzdWx0LmFwcGVuZChnZXRfYWdlbnRfZGV0YWlsKGl0ZW0uaWQpKQogICAgcmV0dXJuIHsKICAgICAgICAnbGlzdCc6IHJlc3VsdCwKICAgICAgICAndG90YWwnOiBwYWdpbmF0aW9uX29iai50b3RhbCwKICAgICAgICAncGFnZSc6IHBhZ2UsCiAgICAgICAgJ3NpemUnOiBzaXplCiAgICB9CgoKZGVmIGFzc2lnbl9yZXR1cm5fcmF0ZShpc19yb290LCBzZW5kZXJfaWQsIHJlY2VpdmVyX2lkLCByZXR1cm5fcmF0ZV9saXN0KToKICAgIGlmIGlzX3Jvb3Q6CiAgICAgICAgZm9yIGl0ZW0gaW4gcmV0dXJuX3JhdGVfbGlzdDoKICAgICAgICAgICAgX2Fzc2lnbl9yb290X3JldHVybl9yYXRlKHJlY2VpdmVyX2lkLCBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpLCBpbnQoaXRlbS5nZXQoJ2NvdW50JykpKQogICAgZWxzZToKICAgICAgICBzZW5kZXIgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KS5maWx0ZXIoQWdlbnQuaWQgPT0gc2VuZGVyX2lkKS5maXJzdCgpCiAgICAgICAgcmVjZWl2ZXIgPSBEQi5zZXNzaW9uLnF1ZXJ5KEFnZW50KS5maWx0ZXIoQWdlbnQuaWQgPT0gcmVjZWl2ZXJfaWQpLmZpcnN0KCkKICAgICAgICBpZiBub3Qgc2VuZGVyOgogICAgICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3NlbmRlcl9pZCBpbnZhbGlkJykKICAgICAgICBpZiBub3QgcmVjZWl2ZXI6CiAgICAgICAgICAgIGFib3J0X2pzb24oNDAwLCAncmVjZWl2ZXJfaWQgaW52YWxpZCcpCiAgICAgICAgaWYgcmVjZWl2ZXIucGFyZW50X2lkICE9IHNlbmRlcl9pZDoKICAgICAgICAgICAgYWJvcnRfanNvbig0MDAsICdzZW5kZXIgaXMgbm90IHRoZSBkaXJlY3QgcGFyZW50IG9mIHJlY2VpdmVyJykKICAgICAgICBmb3IgaXRlbSBpbiByZXR1cm5fcmF0ZV9saXN0OgogICAgICAgICAgICBfYXNzaWduX25vcm1hbF9yZXR1cm5fcmF0ZShzZW5kZXJfaWQsIHJlY2VpdmVyX2lkLCBmbG9hdChpdGVtLmdldCgnYW1vdW50JykpLCBpbnQoaXRlbS5nZXQoJ2NvdW50JykpKQoKCmRlZiBfYXNzaWduX3Jvb3RfcmV0dXJuX3JhdGUocmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlLCBjb3VudCk6CiAgICBpZiBub3QgaXNfcmV0dXJuX3JhdGVfdmFsaWQocmV0dXJuX3JhdGUpOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgaW52YWxpZCcpCiAgICBmb3IgXyBpbiByYW5nZShjb3VudCk6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtKCkKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLmFtb3VudCA9IHJldHVybl9yYXRlCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IHJlY2VpdmVyX2lkCiAgICAgICAgREIuc2Vzc2lvbi5hZGQocmV0dXJuX3JhdGVfaXRlbSkKCgpkZWYgX2Fzc2lnbl9ub3JtYWxfcmV0dXJuX3JhdGUoc2VuZGVyX2lkLCByZWNlaXZlcl9pZCwgcmV0dXJuX3JhdGUsIGNvdW50KToKICAgIHNlc3Npb24gPSBEQi5zZXNzaW9uKCkKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gc2VuZGVyX2lkKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLkFWQUlMQUJMRS52YWx1ZSkud2l0aF9mb3JfdXBkYXRlKCkubGltaXQoY291bnQpLmFsbCgpCiAgICBpZiBsZW4ocmV0dXJuX3JhdGVfaXRlbXMpIDwgY291bnQ6CiAgICAgICAgcmFpc2UgUmV0dXJuUmF0ZU5vdEVub3VnaCgpCiAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiByZXR1cm5fcmF0ZV9pdGVtczoKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gcmVjZWl2ZXJfaWQKCgpkZWYgYXNzaWduX3JldHVybl9yYXRlX2J5X2ludml0YXRpb24oc2VuZGVyX2lkLCByZWNlaXZlcl9pZCwgcmV0dXJuX3JhdGUsIGNvdW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gREIuc2Vzc2lvbi5xdWVyeShSZXR1cm5SYXRlSXRlbSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gc2VuZGVyX2lkKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLlJFU0VSVkVELnZhbHVlKS53aXRoX2Zvcl91cGRhdGUoKS5saW1pdChjb3VudCkuYWxsKCkKICAgIGlmIGxlbihyZXR1cm5fcmF0ZV9pdGVtcykgPCBjb3VudDoKICAgICAgICByYWlzZSBSZXR1cm5SYXRlTm90RW5vdWdoKCdyZXR1cm4gcmF0ZSBub3QgZW5vdWdoJykKICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlcl9pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0uc3RhdHVzID0gUmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUKCgpkZWYgZ2V0X3JldHVybl9yYXRlX2l0ZW1fZGV0YWlsKHJldHVybl9yYXRlX2l0ZW1faWQpOgogICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5pZCA9PSByZXR1cm5fcmF0ZV9pdGVtX2lkKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICBhYm9ydF9qc29uKDQwNCwgJ3JldHVybiByYXRlIGl0ZW0gbm90IGZvdW5kJykKICAgIHJldHVybiB7CiAgICAgICAgJ2lkJzogcmV0dXJuX3JhdGVfaXRlbS5pZCwKICAgICAgICAnYW1vdW50JzogZmxvYXQocmV0dXJuX3JhdGVfaXRlbS5hbW91bnQpLAogICAgICAgICdzdGF0dXMnOiByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cywKICAgICAgICAnb3duZXInOiByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkLAogICAgICAgICd1c2VyJzogcmV0dXJuX3JhdGVfaXRlbS51c2VyX2lkCiAgICB9CgoKZGVmIGdldF9hdmFpbGFibGVfcmV0dXJuX3JhdGVfaXRlbXMoYWdlbnQpOgogICAgcmVzdWx0ID0gW10KICAgIHJldHVybl9yYXRlX2l0ZW1zID0gUmV0dXJuUmF0ZUl0ZW0ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLnN0YXR1cyA9PSBSZXR1cm5SYXRlU3RhdHVzLkFWQUlMQUJMRS52YWx1ZSkuYWxsKCkKICAgIGZvciByZXR1cm5fcmF0ZV9pdGVtIGluIHJldHVybl9yYXRlX2l0ZW1zOgogICAgICAgIHJlc3VsdC5hcHBlbmQoZ2V0X3JldHVybl9yYXRlX2l0ZW1fZGV0YWlsKHJldHVybl9yYXRlX2l0ZW0uaWQpKQogICAgcmV0dXJuIHJlc3VsdAoKCmRlZiBnZXRfcmV0dXJuX3JhdGVfaXRlbXMoYWdlbnQpOgogICAgcmVzdWx0ID0gW10KICAgIHJldHVybl9yYXRlX2l0ZW1zID0gUmV0dXJuUmF0ZUl0ZW0ucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLmFsbCgpCiAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiByZXR1cm5fcmF0ZV9pdGVtczoKICAgICAgICByZXN1bHQuYXBwZW5kKGdldF9yZXR1cm5fcmF0ZV9pdGVtX2RldGFpbChyZXR1cm5fcmF0ZV9pdGVtLmlkKSkKICAgIHJldHVybiByZXN1bHQKCgpkZWYgZ2V0X2RpcmVjdF9jaGlsZHJlbl9yZXR1cm5fcmF0ZV9pdGVtcyhhZ2VudCk6CiAgICBjaGlsZHJlbiA9IGdldF9kaXJlY3RfY2hpbGRyZW4oYWdlbnQpCiAgICByZXN1bHQgPSB7fQogICAgZm9yIGNoaWxkIGluIGNoaWxkcmVuOgogICAgICAgIGRpcmVjdF9yZXR1cm5fcmF0ZV9pdGVtcyA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBjaGlsZC5pZCkuYWxsKCkKICAgICAgICByZXR1cm5fcmF0ZV9saXN0ID0gW10KICAgICAgICBmb3IgcmV0dXJuX3JhdGVfaXRlbSBpbiBkaXJlY3RfcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgICAgIHJldHVybl9yYXRlX2xpc3QuYXBwZW5kKGdldF9yZXR1cm5fcmF0ZV9pdGVtX2RldGFpbChyZXR1cm5fcmF0ZV9pdGVtLmlkKSkKICAgICAgICByZXN1bHQudXBkYXRlKHtjaGlsZC5pZDogcmV0dXJuX3JhdGVfbGlzdH0pCiAgICByZXR1cm4gcmVzdWx0CgoKZGVmIGdldF9yZXR1cm5fcmF0ZV9pdGVtc19yZWN1cnNpdmVseShhZ2VudCk6CiAgICByZXN1bHQgPSBSZXR1cm5SYXRlSXRlbS5xdWVyeS5maWx0ZXIoUmV0dXJuUmF0ZUl0ZW0ub3duZXJfaWQgPT0gYWdlbnQuaWQpLmFsbCgpCiAgICBjaGlsZHJlbiA9IGdldF9hbGxfY2hpbGRyZW4oYWdlbnQpCiAgICBmb3IgY2hpbGQgaW4gY2hpbGRyZW46CiAgICAgICAgcmVzdWx0ICs9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBjaGlsZC5pZCkuYWxsKCkKICAgIHJldHVybiByZXN1bHQKCgpkZWYgZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoYWdlbnRfaWQpOgogICAgcmV0dXJuX3JhdGVfaXRlbSA9IFJldHVyblJhdGVJdGVtLnF1ZXJ5LmZpbHRlcihSZXR1cm5SYXRlSXRlbS51c2VyX2lkID09IGFnZW50X2lkKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICByZXR1cm4gTUlOX1JFVFVSTl9SQVRFCiAgICByZXR1cm4gZmxvYXQocmV0dXJuX3JhdGVfaXRlbS5hbW91bnQpCgoKZGVmIF9hcHBseV9yb290X3JldHVybl9yYXRlKHJlY2VpdmVyX2lkLCByZXR1cm5fcmF0ZSk6CiAgICBpZiByZXR1cm5fcmF0ZSA+IE1BWF9SRVRVUk5fUkFURSBvciByZXR1cm5fcmF0ZSA8IE1JTl9SRVRVUk5fUkFURToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybiByYXRlIGludmFsaWQsIGV4Y2VlZCBtYXggb3IgbWluJykKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBSZXR1cm5SYXRlSXRlbSgpCiAgICByZXR1cm5fcmF0ZV9pdGVtLm93bmVyX2lkID0gcmVjZWl2ZXJfaWQKICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyX2lkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cyA9IFJldHVyblJhdGVTdGF0dXMuSU5fVVNFLnZhbHVlCiAgICByZXR1cm5fcmF0ZV9pdGVtLmFtb3VudCA9IHJldHVybl9yYXRlCiAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBhcHBseV9yZXR1cm5fcmF0ZV9ieV9pbnZpdGF0aW9uKHNlbmRlciwgcmVjZWl2ZXIsIHJldHVybl9yYXRlKToKICAgIGlmIHJldHVybl9yYXRlID4gTUFYX1JFVFVSTl9SQVRFIG9yIHJldHVybl9yYXRlIDwgTUlOX1JFVFVSTl9SQVRFOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuIHJhdGUgaW52YWxpZCwgZXhjZWVkIG1heCBvciBtaW4nKQogICAgaWYgcmVjZWl2ZXIucGFyZW50X2lkICE9IHNlbmRlci5pZDoKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3NlbmRlciBpcyBub3QgdGhlIGRpcmVjdCBwYXJlbnQgb2YgcmVjZWl2ZXInKQogICAgaWYgcmV0dXJuX3JhdGUgPiBnZXRfYXBwbGllZF9yZXR1cm5fcmF0ZShzZW5kZXIuaWQpOgogICAgICAgIGFib3J0X2pzb24oNDAwLCAncmV0dXJuX3JhdGUgPCVzPiBpbnZhbGlkLCBjYW4gbm90IGdyZWF0ZXIgdGhhbiBwYXJlbnQnKQogICAgaWYgcmV0dXJuX3JhdGUgPj0gTUFHSUNfUkVUVVJOX1JBVEU6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbSA9IERCLnNlc3Npb24ucXVlcnkoUmV0dXJuUmF0ZUl0ZW0pLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzZW5kZXIuaWQpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5hbW91bnQgPT0gcmV0dXJuX3JhdGUpLiBcCiAgICAgICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5zdGF0dXMgPT0gUmV0dXJuUmF0ZVN0YXR1cy5SRVNFUlZFRC52YWx1ZSkud2l0aF9mb3JfdXBkYXRlKCkuZmlyc3QoKQogICAgICAgIGlmIG5vdCByZXR1cm5fcmF0ZV9pdGVtOgogICAgICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gbm90IGZvdW5kJyAlIHJldHVybl9yYXRlKQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlci5pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyLmlkCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgZWxzZToKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtID0gUmV0dXJuUmF0ZUl0ZW0oKQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0ub3duZXJfaWQgPSByZWNlaXZlci5pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IHJlY2VpdmVyLmlkCiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgICAgIHJldHVybl9yYXRlX2l0ZW0uYW1vdW50ID0gcmV0dXJuX3JhdGUKICAgICAgICBEQi5zZXNzaW9uLmFkZChyZXR1cm5fcmF0ZV9pdGVtKQoKCmRlZiBfYXBwbHlfbm9ybWFsX3JldHVybl9yYXRlKHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKToKICAgIHJlY2VpdmVyID0gREIuc2Vzc2lvbi5xdWVyeShBZ2VudCkuZmlsdGVyKEFnZW50LmlkID09IHJlY2VpdmVyX2lkKS5maXJzdCgpCiAgICBpZiByZXR1cm5fcmF0ZSA+IE1BWF9SRVRVUk5fUkFURSBvciByZXR1cm5fcmF0ZSA8IE1JTl9SRVRVUk5fUkFURToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybiByYXRlIGludmFsaWQsIGV4Y2VlZCBtYXggb3IgbWluJykKICAgIGlmIHJlY2VpdmVyLnBhcmVudF9pZCAhPSBzZW5kZXJfaWQ6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICdzZW5kZXIgaXMgbm90IHRoZSBkaXJlY3QgcGFyZW50IG9mIHJlY2VpdmVyJykKICAgIGlmIHJldHVybl9yYXRlID4gZ2V0X2FwcGxpZWRfcmV0dXJuX3JhdGUoc2VuZGVyX2lkKToKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gaW52YWxpZCwgY2FuIG5vdCBncmVhdGVyIHRoYW4gcGFyZW50JykKICAgIHJldHVybl9yYXRlX2l0ZW0gPSBEQi5zZXNzaW9uLnF1ZXJ5KFJldHVyblJhdGVJdGVtKS4gXAogICAgICAgIGZpbHRlcihSZXR1cm5SYXRlSXRlbS5vd25lcl9pZCA9PSBzZW5kZXJfaWQpLiBcCiAgICAgICAgZmlsdGVyKFJldHVyblJhdGVJdGVtLmFtb3VudCA9PSByZXR1cm5fcmF0ZSkuIFwKICAgICAgICBmaWx0ZXIoUmV0dXJuUmF0ZUl0ZW0uc3RhdHVzID09IFJldHVyblJhdGVTdGF0dXMuQVZBSUxBQkxFLnZhbHVlKS53aXRoX2Zvcl91cGRhdGUoKS5maXJzdCgpCiAgICBpZiBub3QgcmV0dXJuX3JhdGVfaXRlbToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkKICAgICAgICBhYm9ydF9qc29uKDQwMCwgJ3JldHVybl9yYXRlIDwlcz4gbm90IGZvdW5kJyAlIHJldHVybl9yYXRlKQogICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IHJlY2VpdmVyLmlkCiAgICByZXR1cm5fcmF0ZV9pdGVtLnVzZXJfaWQgPSByZWNlaXZlci5pZAogICAgcmV0dXJuX3JhdGVfaXRlbS5zdGF0dXMgPSBSZXR1cm5SYXRlU3RhdHVzLklOX1VTRS52YWx1ZQogICAgREIuc2Vzc2lvbi5jb21taXQoKQoKCmRlZiBhcHBseV9yZXR1cm5fcmF0ZV9pdGVtKGlzX3Jvb3QsIHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKToKICAgIGlmIGlzX3Jvb3Q6CiAgICAgICAgX2FwcGx5X3Jvb3RfcmV0dXJuX3JhdGUocmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKQogICAgZWxzZToKICAgICAgICBfYXBwbHlfbm9ybWFsX3JldHVybl9yYXRlKHNlbmRlcl9pZCwgcmVjZWl2ZXJfaWQsIHJldHVybl9yYXRlKQoKCmRlZiBfcmVjeWNsZV9yb290X3JldHVybl9yYXRlKGFnZW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gZ2V0X3JldHVybl9yYXRlX2l0ZW1zX3JlY3Vyc2l2ZWx5KGFnZW50KQogICAgZm9yIHJldHVybl9yYXRlX2l0ZW0gaW4gcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgREIuc2Vzc2lvbi5kZWxldGUocmV0dXJuX3JhdGVfaXRlbSkKICAgIERCLnNlc3Npb24uY29tbWl0KCkKCgpkZWYgX3JlY3ljbGVfbm9ybWFsX3JldHVybl9yYXRlKGFnZW50KToKICAgIHJldHVybl9yYXRlX2l0ZW1zID0gZ2V0X3JldHVybl9yYXRlX2l0ZW1zX3JlY3Vyc2l2ZWx5KGFnZW50KQogICAgZm9yIHJldHVybl9yYXRlX2l0ZW0gaW4gcmV0dXJuX3JhdGVfaXRlbXM6CiAgICAgICAgcmV0dXJuX3JhdGVfaXRlbS5vd25lcl9pZCA9IGFnZW50LnBhcmVudF9pZAogICAgICAgIHJldHVybl9yYXRlX2l0ZW0udXNlcl9pZCA9IE5vbmUKICAgICAgICByZXR1cm5fcmF0ZV9pdGVtLnN0YXR1cyA9IFJldHVyblJhdGVTdGF0dXMuQVZBSUxBQkxFLnZhbHVlCiAgICBEQi5zZXNzaW9uLmNvbW1pdCgpCgoKZGVmIHJlY3ljbGVfcmV0dXJuX3JhdGVfYnlfYWdlbnQoYWdlbnQpOgogICAgaWYgYWdlbnQubGV2ZWwgPT0gMToKICAgICAgICBfcmVjeWNsZV9yb290X3JldHVybl9yYXRlKGFnZW50KQogICAgZWxzZToKICAgICAgICBfcmVjeWNsZV9ub3JtYWxfcmV0dXJuX3JhdGUoYWdlbnQpCgoKZGVmIGdldF9yZXR1cm5fYW1vdW50KGFnZW50X2lkKToKICAgIHJldHVybl9hbW91bnQgPSBnZXRfY2FjaGVkX3JldHVybl9hbW91bnQoYWdlbnRfaWQpCiAgICBpZiBub3QgcmV0dXJuX2Ftb3VudDoKICAgICAgICByZXR1cm5fYW1vdW50ID0gREIuc2Vzc2lvbi5xdWVyeShmdW5jLnN1bShBZ2VudFJldHVyblJlY29yZC5nYWluX2Ftb3VudCkpLiBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIoQWdlbnRSZXR1cm5SZWNvcmQuZ2Fpbl9hZ2VudF9pZCA9PSBhZ2VudF9pZCkuc2NhbGFyKCkgb3IgMAogICAgICAgIGNhY2hlX3JldHVybl9hbW91bnQoYWdlbnRfaWQsIHJldHVybl9hbW91bnQpCiAgICByZXR1cm4gcmV0dXJuX2Ftb3VudAoKCmRlZiBnZXRfaW52aXRhdGlvbl9ieV9jb2RlKGNvZGUpOgogICAgcmV0dXJuIEFnZW50SW52aXRhdGlvblJlY29yZC5xdWVyeS5maWx0ZXIoQWdlbnRJbnZpdGF0aW9uUmVjb3JkLmNvZGUgPT0gY29kZSkuZmlyc3QoKQoKCmRlZiBnZXRfcGVuZGluZ190cmFuc2Zlcl9yZWNvcmQocGFnZSwgc2l6ZSk6CiAgICByZXR1cm4gQWdlbnRUcmFuc2ZlclJlY29yZC5xdWVyeS4gXAogICAgICAgIGZpbHRlcihBZ2VudFRyYW5zZmVyUmVjb3JkLnN0YXR1cyA9PSBUcmFuc2ZlclN0YXR1cy5QRU5ESU5HLnZhbHVlKS4gXAogICAgICAgIHBhZ2luYXRlKHBhZ2U9cGFnZSwgcGVyX3BhZ2U9c2l6ZSkKCgpkZWYgZ2V0X2FnZW50X3RyYW5zYWN0aW9ucyhwYWdlLCBzaXplKToKICAgIHJldHVybiBUcmFuc2FjdGlvbi5xdWVyeS4gXAogICAgICAgIGZpbHRlcihvcl8oVHJhbnNhY3Rpb24udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQUdFTlRfUkVUVVJOLnZhbHVlLAogICAgICAgICAgICAgICAgICAgVHJhbnNhY3Rpb24udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQUdFTlRfQk9OVVMudmFsdWUsCiAgICAgICAgICAgICAgICAgICBUcmFuc2FjdGlvbi50eXBlID09IFRyYW5zYWN0aW9uVHlwZS5BR0VOVF9UUkFOU0ZFUi52YWx1ZSwKICAgICAgICAgICAgICAgICAgIFRyYW5zYWN0aW9uLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLlBMQVRGT1JNX1RSQU5TRkVSLnZhbHVlLAogICAgICAgICAgICAgICAgICAgKSkuIFwKICAgICAgICBwYWdpbmF0ZShwYWdlPXBhZ2UsIHBlcl9wYWdlPXNpemUpCgoKZGVmIGhhbmRsZV90cmFuc2Zlcih0cmFuc2Zlcl9pZCwgYXBwcm92ZSk6CiAgICB0cmFuc2ZlciA9IEFnZW50VHJhbnNmZXJSZWNvcmQucXVlcnkuIFwKICAgICAgICBmaWx0ZXIoQWdlbnRUcmFuc2ZlclJlY29yZC5pZCA9PSB0cmFuc2Zlcl9pZCkuIFwKICAgICAgICBmaWx0ZXIoQWdlbnRUcmFuc2ZlclJlY29yZC5zdGF0dXMgPT0gVHJhbnNmZXJTdGF0dXMuUEVORElORy52YWx1ZSkuIFwKICAgICAgICBmaXJzdCgpCiAgICBpZiBub3QgdHJhbnNmZXI6CiAgICAgICAgYWJvcnRfanNvbig0MDAsICd0cmFuc2Zlcl9pZCBpbnZhbGlkJykKCiAgICB0cnk6CiAgICAgICAgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbi5xdWVyeS5maWx0ZXIoVHJhbnNhY3Rpb24uaWQgPT0gdHJhbnNmZXIudHJhbnNhY3Rpb25faWQpLmZpcnN0KCkKICAgICAgICBpZiBub3QgdHJhbnNhY3Rpb246CiAgICAgICAgICAgIHJhaXNlIFRyYW5zYWN0aW9uTm90Rm91bmQoJ3RyYW5zYWN0aW9uIGlkIG5vdCBmb3VuZCBpbiB0cmFuc2ZlciByZWNvcmQ8JXM+JyAlIHRyYW5zZmVyX2lkKQogICAgICAgIGlmIGFwcHJvdmU6CiAgICAgICAgICAgIHRyYW5zZmVyLnN0YXR1cyA9IFRyYW5zZmVyU3RhdHVzLkFQUFJPVkVELnZhbHVlCiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnN0YXR1cyA9IFRyYW5zYWN0aW9uU3RhdHVzLkRPTkUudmFsdWUKICAgICAgICAgICAgYWNjb3VudCA9IEFjY291bnQucXVlcnkud2l0aF9mb3JfdXBkYXRlKCkuZmlsdGVyKEFjY291bnQuaWQgPT0gdHJhbnNmZXIucmVjZWl2ZXJfdXNlcl9pZCkub25lKCkKICAgICAgICAgICAgYWNjb3VudC5iYWxhbmNlICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LndpdGhkcmF3ICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LmFnZW50X2JhbGFuY2UgKz0gRGVjaW1hbCh0cmFuc2Zlci5hbW91bnQpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdHJhbnNmZXIuc3RhdHVzID0gVHJhbnNmZXJTdGF0dXMuUkVKRUNURUQudmFsdWUKICAgICAgICAgICAgdHJhbnNhY3Rpb24uc3RhdHVzID0gVHJhbnNhY3Rpb25TdGF0dXMuRkFJTC52YWx1ZQogICAgICAgICAgICBhY2NvdW50ID0gQWNjb3VudC5xdWVyeS53aXRoX2Zvcl91cGRhdGUoKS5maWx0ZXIoQWNjb3VudC5pZCA9PSB0cmFuc2Zlci5zZW5kZXJfdXNlcl9pZCkub25lKCkKICAgICAgICAgICAgYWNjb3VudC5iYWxhbmNlICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LndpdGhkcmF3ICs9IERlY2ltYWwodHJhbnNmZXIuYW1vdW50KQogICAgICAgICAgICBhY2NvdW50LmFnZW50X2JhbGFuY2UgKz0gRGVjaW1hbCh0cmFuc2Zlci5hbW91bnQpCiAgICAgICAgREIuc2Vzc2lvbi5jb21taXQoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIEFQSV9MT0dHRVIuZXJyb3IoZSkKICAgICAgICBEQi5zZXNzaW9uLnJvbGxiYWNrKCkKICAgICAgICBhYm9ydF9qc29uKDUwMCwgJ2RhdGFiYXNlIG9wZXJhdGlvbiBlcnJvcicsIEVycm9yQ29kZS5EQVRBX0VSUk9SLnZhbHVlLCBlKQogICAgZmluYWxseToKICAgICAgICBEQi5zZXNzaW9uLmNsb3NlKCkK</text>
      </register>
      <register name="q" type="4">
        <text />
      </register>
      <register name="2" type="2">
        <text encoding="base64">Y2xhc3MgVHJhbnNhY3Rpb25TdGF0dXMoRW51bSk6CiAgICBXQUlUID0gMAogICAgRE9ORSA9IDEKICAgIEZBSUwgPSAyCgoKY2xhc3MgUmV0dXJuUmF0ZVN0YXR1cyhFbnVtKToKICAgIEFWQUlMQUJMRSA9ICdhdmFpbGFibGUnCiAgICBJTl9VU0UgPSAnaW5fdXNlJwogICAgUkVTRVJWRUQgPSAncmVzZXJ2ZWQnCgoKY2xhc3MgSW52aXRhdGlvblR5cGUoRW51bSk6CiAgICBPTkVfVElNRSA9ICdvbmVfdGltZScKICAgIFVOTElNSVRFRCA9ICd1bmxpbWl0ZWQnCgoKY2xhc3MgSW52aXRhdGlvblN0YXR1cyhFbnVtKToKICAgIEFWQUlMQUJMRSA9ICdhdmFpbGFibGUnCiAgICBOT1RfQVZBSUxBQkxFID0gJ25vdF9hdmFpbGFibGUnCgoKY2xhc3MgVHJhbnNmZXJUeXBlKEVudW0pOgogICAgUExBVEZPUk0gPSAncGxhdGZvcm0nCiAgICBNT05USExZX0JPTlVTID0gJ21vbnRobHlfYm9udXMnCiAgICBVU0VSID0gJ3VzZXInCgoKY2xhc3MgVHJhbnNmZXJTdGF0dXMoRW51bSk6CiAgICBQRU5ESU5HID0gJ3BlbmRpbmcnCiAgICBBUFBST1ZFRCA9ICdhcHByb3ZlZCcKICAgIFJFSkVDVEVEID0gJ3JlamVjdGVkJwoKCmNsYXNzIEFkbWluUm9sZShFbnVtKToKICAgIEZPUkJJRERFTiA9IDAKICAgIFVTRVIgPSAxCiAgICBTRU5JT1JfVVNFUiA9IDIKICAgIE1BTkFHRVIgPSAzCiAgICBTRU5JT1JfTUFOQUdFUiA9IDQKICAgIEFETUlOID0gNQoKCmNsYXNzIEFkbWluUGVybWlzc2lvblR5cGUoRW51bSk6CiAgICBOT05FID0gMAogICAgUkVBRCA9IDEKICAgIFdSSVRFID0gMgoKCmNsYXNzIFRyYW5zYWN0aW9uVHlwZShFbnVtKToKICAgIElOID0gMQogICAgQVdBUkQgPSAyCiAgICBCQUxBTkNFX0JVWSA9IDQKICAgIFJFRlVORCA9IDgKICAgIFdJVEhEUkFXID0gMTYKICAgIFBBWV9PRkYgPSAzMgogICAgQUdFTlRfUkVUVVJOID0gMzMKICAgIEFHRU5UX0JPTlVTID0gMzQKICAgIEFHRU5UX1RSQU5TRkVSID0gMzUKICAgIFBMQVRGT1JNX1RSQU5TRkVSID0gMzYK</text>
      </register>
      <register name="3" type="2">
        <text encoding="base64">Y2xhc3MgQWdlbnRSZXR1cm5SZWNvcmQoREIuTW9kZWwpOgogICAgX190YWJsZW5hbWVfXyA9ICdhZ2VudF9yZXR1cm4nCiAgICBfX2JpbmRfa2V5X18gPSAnYmlnYmFuZycKICAgIGlkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICBiZXRfdXNlcl9pZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgYmV0X2FnZW50X2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICBnYWluX3VzZXJfaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIGdhaW5fYWdlbnRfaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIGJldF9hbW91bnQgPSBEQi5Db2x1bW4oREIuRmxvYXQpCiAgICBiZXRfcmV0dXJuX3JhdGUgPSBEQi5Db2x1bW4oREIuRmxvYXQpCiAgICBnYWluX3JldHVybl9yYXRlID0gREIuQ29sdW1uKERCLkZsb2F0KQogICAgZ2Fpbl9hbW91bnQgPSBEQi5Db2x1bW4oREIuRmxvYXQpCiAgICB0cmFuc2FjdGlvbl9pZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgY3JlYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkKICAgIHVwZGF0ZWRfYXQgPSBEQi5Db2x1bW4oREIuREFURVRJTUUpCgoKY2xhc3MgQWdlbnRJbnZpdGF0aW9uUmVjb3JkKERCLk1vZGVsKToKICAgIF9fdGFibGVuYW1lX18gPSAnYWdlbnRfaW52aXRhdGlvbicKICAgIF9fYmluZF9rZXlfXyA9ICdiaWdiYW5nJwogICAgaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlciwgcHJpbWFyeV9rZXk9VHJ1ZSkKICAgIGNvZGUgPSBEQi5Db2x1bW4oREIuVkFSQ0hBUiwgdW5pcXVlPVRydWUpCiAgICBzZW5kZXJfYWdlbnRfaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIHJlY2VpdmVyX2FnZW50X2lkX2xpc3QgPSBEQi5Db2x1bW4oREIuVEVYVCkKICAgIHJldHVybl9yYXRlID0gREIuQ29sdW1uKERCLkZsb2F0KQogICAgcmV0dXJuX3JhdGVfbGlzdCA9IERCLkNvbHVtbihEQi5URVhUKQogICAgdHlwZSA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgc3RhdHVzID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICBjcmVhdGVkX2F0ID0gREIuQ29sdW1uKERCLkRBVEVUSU1FKQogICAgdXBkYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkKCgpjbGFzcyBBZ2VudFRyYW5zZmVyUmVjb3JkKERCLk1vZGVsKToKICAgIF9fdGFibGVuYW1lX18gPSAnYWdlbnRfdHJhbnNmZXInCiAgICBfX2JpbmRfa2V5X18gPSAnYmlnYmFuZycKICAgIGlkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICBzZW5kZXJfYWdlbnRfaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIHNlbmRlcl91c2VyX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICByZWNlaXZlcl9hZ2VudF9pZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgcmVjZWl2ZXJfdXNlcl9pZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgYW1vdW50ID0gREIuQ29sdW1uKERCLkZMT0FUKQogICAgc3RhdHVzID0gREIuQ29sdW1uKERCLlZBUkNIQVIpCiAgICB0eXBlID0gREIuQ29sdW1uKERCLlZBUkNIQVIpCiAgICBzZW5kZXJfdHJhbnNhY3Rpb25faWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIHJlY2VpdmVyX3RyYW5zYWN0aW9uX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICBjcmVhdGVkX2F0ID0gREIuQ29sdW1uKERCLkRBVEVUSU1FKQogICAgdXBkYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkKCgpjbGFzcyBUcmFuc2FjdGlvbihEQi5Nb2RlbCk6CiAgICBfX3RhYmxlbmFtZV9fID0gInRyYW5zYWN0aW9uIgogICAgX19iaW5kX2tleV9fID0gJ2JpZ2JhbmcnCiAgICBpZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyLCBwcmltYXJ5X2tleT1UcnVlLCBhdXRvaW5jcmVtZW50PVRydWUpCiAgICB1c2VyX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICB0eXBlID0gREIuQ29sdW1uKERCLkludGVnZXIpCiAgICBhY3Rpdml0eV90eXBlID0gREIuQ29sdW1uKERCLkludGVnZXIsIGRlZmF1bHQ9MCkKICAgIHBheV9pZCA9IERCLkNvbHVtbihEQi5WQVJDSEFSKQogICAgc3RhdHVzID0gREIuQ29sdW1uKERCLkludGVnZXIsIGRlZmF1bHQ9MCkKICAgIHRpdGxlID0gREIuQ29sdW1uKERCLlZBUkNIQVIpCiAgICBwcmljZSA9IERCLkNvbHVtbihEQi5GTE9BVCkKICAgIGJhbGFuY2UgPSBEQi5Db2x1bW4oREIuRkxPQVQpCiAgICBvcmRlcl9pZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyKQogICAgY3JlYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkKICAgIHVwZGF0ZWRfYXQgPSBEQi5Db2x1bW4oREIuREFURVRJTUUpCiAgICBleHRlbmQgPSBEQi5Db2x1bW4oREIuVEVYVCkKCgpjbGFzcyBBZG1pblVzZXIoREIuTW9kZWwpOgogICAgX190YWJsZW5hbWVfXyA9ICd1c2VyJwogICAgX19iaW5kX2tleV9fID0gJ2JpZ2JhbmdfYWRtaW4nCiAgICBpZCA9IERCLkNvbHVtbihEQi5CaWdJbnRlZ2VyLCBwcmltYXJ5X2tleT1UcnVlKQogICAgbmlja25hbWUgPSBEQi5Db2x1bW4oREIuVkFSQ0hBUikKICAgIGVtYWlsID0gREIuQ29sdW1uKERCLlZBUkNIQVIpCiAgICBwYXNzd29yZCA9IERCLkNvbHVtbihEQi5WQVJDSEFSKQogICAgcm9sZSA9IERCLkNvbHVtbihEQi5TbWFsbEludGVnZXIpCiAgICBwZXJtID0gREIuQ29sdW1uKERCLkludGVnZXIsIGRlZmF1bHQ9MCkKICAgIGNyZWF0ZWRfYXQgPSBEQi5Db2x1bW4oREIuREFURVRJTUUpCiAgICB1cGRhdGVkX2F0ID0gREIuQ29sdW1uKERCLkRBVEVUSU1FKQoKCmNsYXNzIEFkbWluUGVybWlzc2lvbihEQi5Nb2RlbCk6CiAgICBfX3RhYmxlbmFtZV9fID0gJ3Blcm1pc3Npb24nCiAgICBfX2JpbmRfa2V5X18gPSAnYmlnYmFuZ19hZG1pbicKICAgIGlkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICB1cmwgPSBEQi5Db2x1bW4oREIuVkFSQ0hBUikKICAgIHBlcm1pc3Npb24gPSBEQi5Db2x1bW4oREIuU21hbGxJbnRlZ2VyKQogICAgbWluX3JvbGUgPSBEQi5Db2x1bW4oREIuU21hbGxJbnRlZ2VyKQogICAgZGVzYyA9IERCLkNvbHVtbihEQi5WQVJDSEFSKQogICAgY3JlYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkKICAgIHVwZGF0ZWRfYXQgPSBEQi5Db2x1bW4oREIuREFURVRJTUUpCgoKY2xhc3MgQWRtaW5Vc2VyVG9rZW4oREIuTW9kZWwpOgogICAgX190YWJsZW5hbWVfXyA9ICd1c2VyX3Rva2VuJwogICAgX19iaW5kX2tleV9fID0gJ2JpZ2JhbmdfYWRtaW4nCiAgICB1c2VyX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICB0b2tlbiA9IERCLkNvbHVtbihEQi5WQVJDSEFSLCBwcmltYXJ5X2tleT1UcnVlKQogICAgZGVsZXRlZCA9IERCLkNvbHVtbihEQi5TbWFsbEludGVnZXIpCiAgICBjcmVhdGVkX2F0ID0gREIuQ29sdW1uKERCLkRBVEVUSU1FKQogICAgdXBkYXRlZF9hdCA9IERCLkNvbHVtbihEQi5EQVRFVElNRSkK</text>
      </register>
      <register name="4" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="5" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="6" type="2">
        <text encoding="base64">CmNsYXNzIFJldHVyblJhdGVJdGVtKERCLk1vZGVsKToKICAgIF9fdGFibGVuYW1lX18gPSAncmV0dXJuX3JhdGUnCiAgICBfX2JpbmRfa2V5X18gPSAnYmlnYmFuZycKICAgIGlkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUpCiAgICBhbW91bnQgPSBEQi5Db2x1bW4oREIuRmxvYXQsIGRlZmF1bHQ9MCkKICAgIG93bmVyX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIpCiAgICB1c2VyX2lkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHVuaXF1ZT1UcnVlLCBudWxsYWJsZT1UcnVlKQogICAgc3RhdHVzID0gREIuQ29sdW1uKERCLlZBUkNIQVIsIGRlZmF1bHQ9UmV0dXJuUmF0ZVN0YXR1cy5BVkFJTEFCTEUudmFsdWUpCg==</text>
      </register>
      <register name="7" type="2">
        <text encoding="base64">Cg==</text>
      </register>
      <register name="8" type="2">
        <text encoding="base64">Y2xhc3MgQWdlbnQoREIuTW9kZWwsIEJhc2VOZXN0ZWRTZXRzKToKICAgIF9fdGFibGVuYW1lX18gPSAnYWdlbnQnCiAgICBfX2JpbmRfa2V5X18gPSAnYmlnYmFuZycKICAgIGlkID0gREIuQ29sdW1uKERCLkJpZ0ludGVnZXIsIHByaW1hcnlfa2V5PVRydWUsIGF1dG9pbmNyZW1lbnQ9VHJ1ZSkKICAgIHVzZXJfaWQgPSBEQi5Db2x1bW4oREIuQmlnSW50ZWdlcikKICAgIGJvbnVzX3JhdGUgPSBEQi5Db2x1bW4oREIuRmxvYXQsIGRlZmF1bHQ9MCkKICAgIGpvaW5fZGF0ZSA9IERCLkNvbHVtbihEQi5EQVRFVElNRSwgZGVmYXVsdD1kYXRldGltZS5kYXRldGltZS5ub3cpCiAgICBpc19sb2NrZWQgPSBEQi5Db2x1bW4oREIuQm9vbGVhbiwgZGVmYXVsdD1GYWxzZSkK</text>
      </register>
      <register name="9" type="2">
        <text encoding="base64">ICAgIHVwZGF0ZWRfYXQgPSBEQi5Db2x1bW4oREIuREFURVRJTUUpCg==</text>
      </register>
      <register name=":" type="4">
        <text>118</text>
      </register>
    </registers>
    <search>
      <last-search encoding="base64">XDxmcmVzaF9yZWNoYXJnZV9yZXBvcnRcPg==</last-search>
      <last-offset />
      <last-pattern encoding="base64">XDxmcmVzaF9yZWNoYXJnZV9yZXBvcnRcPg==</last-pattern>
      <last-replace>fruit</last-replace>
      <last-substitute>lottery</last-substitute>
      <last-dir>1</last-dir>
      <show-last>false</show-last>
    </search>
    <history>
      <history-search>
        <entry encoding="base64">XDxKVVNUUEFZX1RSQU5TX1VSTFw+</entry>
        <entry encoding="base64">XDxhcGlcPg==</entry>
        <entry encoding="base64">XDxjaGFyZ2VfcmVzcFw+</entry>
        <entry encoding="base64">XDxjaGFubmVsX3R5cGVcPg==</entry>
        <entry encoding="base64">XDxvdXRfdHJhZGVfbm9cPg==</entry>
        <entry encoding="base64">XDxCQU5LX09SREVSX1NUQVRVU1w+</entry>
        <entry encoding="base64">XDxzZXR0aW5nc1w+</entry>
        <entry encoding="base64">XDxVbmF1dGhvcml6ZWRcPg==</entry>
        <entry encoding="base64">XDx1bmtub3duXD4=</entry>
        <entry encoding="base64">XDxMT0dHRVJcPg==</entry>
        <entry encoding="base64">XDxBQ1RJVklUWV9URU1QTEFURVw+</entry>
        <entry encoding="base64">XDxqc29uXD4=</entry>
        <entry encoding="base64">XDxTSEEyNTZcPg==</entry>
        <entry encoding="base64">XDxqaW55YW5ncGF5XD4=</entry>
        <entry encoding="base64">XDxhbGJwYXlcPg==</entry>
        <entry encoding="base64">XDxiNjRkZWNvZGVcPg==</entry>
        <entry encoding="base64">XDxqdWNoZW5ncGF5XD4=</entry>
        <entry encoding="base64">XDxfZ2V0X2dhdGV3YXlcPg==</entry>
        <entry encoding="base64">XDxub3RpZmljYXRpb25fZGJcPg==</entry>
        <entry encoding="base64">XDxmcmVzaF9yZWNoYXJnZV9yZXBvcnRcPg==</entry>
      </history-search>
      <history-cmd>
        <entry>81</entry>
        <entry>188</entry>
        <entry>108</entry>
        <entry>193</entry>
        <entry encoding="base64">JzwsJz5zLyIvJy9n</entry>
        <entry>170</entry>
        <entry>121</entry>
        <entry>119</entry>
        <entry>77</entry>
        <entry>wq</entry>
        <entry>303</entry>
        <entry>69</entry>
        <entry encoding="base64">JzwsJz4lcy9rZmMvbG90dGVyeS9nYw==</entry>
        <entry encoding="base64">JzwsJz4lcy9sb3R0ZXJ5L2J1bGwvZ2M=</entry>
        <entry encoding="base64">JzwsJz4lcy9sb3R0ZXJ5L2ZydWl0L2dj</entry>
        <entry>27</entry>
        <entry>w</entry>
        <entry>132</entry>
        <entry>98</entry>
        <entry>118</entry>
      </history-cmd>
      <history-expr />
      <history-input />
    </history>
    <shortcut-conflicts>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed D</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed F</text>
      </shortcut-conflict>
      <shortcut-conflict owner="vim">
        <text>ctrl pressed V</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed R</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed E</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed N</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed G</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed A</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed O</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed P</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed B</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed H</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed M</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 2</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>shift ctrl pressed 6</text>
      </shortcut-conflict>
      <shortcut-conflict owner="ide">
        <text>ctrl pressed I</text>
      </shortcut-conflict>
    </shortcut-conflicts>
    <editor>
      <key-repeat enabled="false" />
    </editor>
  </component>
</application>